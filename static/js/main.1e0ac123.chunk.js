(this["webpackJsonpportfolio-manager"]=this["webpackJsonpportfolio-manager"]||[]).push([[0],[,,,,,,,,,,function(e,t,s){},,,,,function(e,t,s){},function(e,t,s){},,,,,,function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a=s(1),i=s.n(a),n=s(17),r=s.n(n),o=(s(22),s(23),s(13)),c=s(6),l=s.n(c),p=s(7),d=s(8),u=s(2),h=s(3),m=s(5),b=s(4),j=(s(25),s(14),s(26),s(0)),g=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={watchlistDropdownValue:0},e.handleWatchlistDropdownChange=function(t){var s=Number.parseInt(t.target.value,10);e.setState({watchlistDropdownValue:s}),e.props.setCurrentIndex(s,"watchlist")},e.idToIndexConverter=function(t){return e.props.loggedInUser.watchlists.findIndex((function(e){return e.id===t}))},e.handleSortColumn=function(t){switch(t){case 0:e.props.handleDataSort(0,"prices",e.props.dataSort.prices.isUp,"symbol");break;case 1:1===e.props.dataSort.prices.index&&e.props.dataSort.prices.isUp?e.props.handleDataSort(1,"prices",!0,"price_eur"):1!==e.props.dataSort.prices.index||e.props.dataSort.prices.isUp?2===e.props.dataSort.prices.index&&e.props.dataSort.prices.isUp?e.props.handleDataSort(2,"prices",!0,"price_change"):e.props.handleDataSort(1,"prices",!1,"price_eur"):e.props.handleDataSort(2,"prices",!1,"price_change");break;default:e.props.handleDataSort(0,"prices",!1,"symbol")}},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.setState({watchlistDropdownValue:this.props.currentWatchlist})}},{key:"componentDidUpdate",value:function(){this.props.currentWatchlist!==this.state.watchlistDropdownValue&&this.setState({watchlistDropdownValue:this.props.currentWatchlist})}},{key:"render",value:function(){var e=this,t=this.props.loggedInUser.watchlists.map((function(t){return Object(j.jsx)("option",{value:e.idToIndexConverter(t.id),children:t.name},t.id)})),s=0===this.props.loggedInUser.watchlists.length?"":this.props.coinListCreator().sort(this.props.compareFunction(this.props.dataSort.prices.sortProperty,this.props.dataSort.prices.isUp)).map((function(t){return Object(j.jsxs)("div",{className:"price-item",children:[Object(j.jsxs)("div",{className:"ticker",children:[Object(j.jsx)("div",{className:"ticker-image",children:Object(j.jsx)("img",{src:t.logo,alt:"".concat(t.symbol," icon")})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"ticker-symbol",children:"".concat(t.symbol)}),Object(j.jsx)("p",{className:"ticker-name",children:"".concat(t.coinName)})]})]}),Object(j.jsxs)("div",{className:"watchlist-price",children:[Object(j.jsx)("p",{className:"ticker-price ".concat(e.props.priceColorSetter(t.price_change)),children:e.props.priceConverter(t)}),Object(j.jsxs)("p",{className:"ticker-price-change ".concat(e.props.priceColorSetter(t.price_change)),children:[t.price_change," %"]})]})]},t.coinId)}));return Object(j.jsxs)("div",{className:"page-menu-container",children:[Object(j.jsxs)("div",{className:"page-menu-settings-container",children:[Object(j.jsx)("p",{className:"page-menu-sign",children:Object(j.jsx)("i",{className:"fa fa-plus-square","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("AddWatchlist",!0)}})}),Object(j.jsx)("p",{className:"page-menu-sign",children:Object(j.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("EditWatchlist",!0)}})}),Object(j.jsx)("select",{className:"page-menu-dropdown",name:"watchlist-dropdown",value:this.state.watchlistDropdownValue,onChange:this.handleWatchlistDropdownChange,children:t}),Object(j.jsx)("p",{className:"page-menu-sign",children:Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("PricesSettings",!0)}})}),Object(j.jsx)("p",{className:"page-menu-sign",children:Object(j.jsx)("i",{className:"fa fa-question-circle","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("PricesGuide",!0)}})})]}),Object(j.jsxs)("div",{className:"watchlist-header",children:[Object(j.jsx)("p",{className:"sortable-column",onClick:function(){return e.handleSortColumn(0)},children:"".concat(this.props.dataSort.prices.arrows[0]," Coin")}),Object(j.jsx)("p",{className:"sortable-column",onClick:function(){return e.handleSortColumn(1)},children:"".concat(this.props.dataSort.prices.arrows[1]," Price/Change ").concat(this.props.dataSort.prices.arrows[2])})]}),Object(j.jsx)("div",{className:"watchlist-assets",children:s})]})}}]),s}(a.Component),f=(s(28),function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={portfolioDropdownValue:0},e.handlePortfolioDropdownChange=function(t){var s=Number.parseInt(t.target.value);e.setState({portfolioDropdownValue:s}),e.props.setCurrentIndex(s,"portfolio")},e.idToIndexConverter=function(t){return e.props.loggedInUser.portfolios.findIndex((function(e){return e.id===t}))},e.handleAssetDetailsButtonClick=function(t){var s=e.props.loggedInUser.portfolios[e.props.currentPortfolio].assets.findIndex((function(e){return e.coin_id===t}));e.props.setCurrentIndex(s,"asset"),e.props.makePopupVisible("EditAsset",!0)},e.handleSortColumn=function(t){switch(t){case 0:e.props.handleDataSort(0,"portfolios",e.props.dataSort.portfolios.isUp,"symbol");break;case 1:1===e.props.dataSort.portfolios.index&&e.props.dataSort.portfolios.isUp?e.props.handleDataSort(1,"portfolios",!0,"current_value"):1!==e.props.dataSort.portfolios.index||e.props.dataSort.portfolios.isUp?2===e.props.dataSort.portfolios.index&&e.props.dataSort.portfolios.isUp?e.props.handleDataSort(2,"portfolios",!0,"current_quantity"):e.props.handleDataSort(1,"portfolios",!1,"current_value"):e.props.handleDataSort(2,"portfolios",!1,"current_quantity");break;case 2:3===e.props.dataSort.portfolios.index&&e.props.dataSort.portfolios.isUp?e.props.handleDataSort(3,"portfolios",!0,"absolute_yield"):3!==e.props.dataSort.portfolios.index||e.props.dataSort.portfolios.isUp?4===e.props.dataSort.portfolios.index&&e.props.dataSort.portfolios.isUp?e.props.handleDataSort(4,"portfolios",!0,"percentage_yield"):e.props.handleDataSort(3,"portfolios",!1,"absolute_yield"):e.props.handleDataSort(4,"portfolios",!1,"percentage_yield");break;default:e.props.handleDataSort(0,"portfolios",!1,"symbol")}},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.setState({portfolioDropdownValue:this.props.currentPortfolio})}},{key:"componentDidUpdate",value:function(){this.props.currentPortfolio!==this.state.portfolioDropdownValue&&this.setState({portfolioDropdownValue:this.props.currentPortfolio})}},{key:"render",value:function(){var e=this,t=this.props.loggedInUser.portfolios[this.props.currentPortfolio],s=Object(j.jsxs)("p",{className:"portfolio-name",children:[Object(j.jsx)("i",{className:"fa fa-money page-menu-sign","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("BuySellAsset",!0)}}),t.name]}),a=this.props.loggedInUser.portfolios.map((function(t){return Object(j.jsx)("option",{value:e.idToIndexConverter(t.id),children:t.name},t.id)}));return Object(j.jsxs)("div",{className:"page-menu-container",children:[Object(j.jsxs)("div",{className:"page-menu-settings-container",children:[Object(j.jsx)("p",{className:"page-menu-sign",children:Object(j.jsx)("i",{className:"fa fa-plus-square","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("AddPortfolio",!0)}})}),Object(j.jsx)("p",{className:"page-menu-sign",children:Object(j.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("EditPortfolio",!0)}})}),Object(j.jsx)("select",{className:"page-menu-dropdown",name:"portfolio-dropdown",value:this.state.portfolioDropdownValue,onChange:this.handlePortfolioDropdownChange,children:a}),Object(j.jsx)("p",{className:"page-menu-sign",children:Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("PricesSettings",!0)}})}),Object(j.jsx)("p",{className:"page-menu-sign",children:Object(j.jsx)("i",{className:"fa fa-question-circle","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("PortfoliosGuide",!0)}})})]}),s,function(t){if(t.length>0){var s=t.map((function(e){return e.bought_value})).reduce((function(e,t){return e+t}),0),a=Number.parseFloat(t.map((function(t){return t.current_quantity*e.props.coinFinder(t.coin_id).price_eur})).reduce((function(e,t){return e+t}),0).toFixed(2)),i=Number.parseFloat(t.map((function(t){return t.current_quantity*e.props.coinFinder(t.coin_id).price_eur+t.sold_value})).reduce((function(e,t){return e+t}),0).toFixed(2)),n=0===s?0:Number.parseFloat((100*(i/s-1)).toFixed(2));return Object(j.jsxs)("div",{className:"portfolio-totals",children:[Object(j.jsx)("p",{className:"portfolio-total-value",children:e.props.amountConverter(a)}),Object(j.jsx)("p",{className:"portfolio-total-yield ".concat(e.props.priceColorSetter(n)),children:"".concat(n.toLocaleString("en-GB")," %")})]})}return""}(this.props.loggedInUser.portfolios[this.props.currentPortfolio].assets),function(t){if(t.length>0){var s=Object(d.a)(t).sort(e.props.compareFunction(e.props.dataSort.portfolios.sortProperty,e.props.dataSort.portfolios.isUp)).map((function(t){return Object(j.jsxs)("div",{className:"asset-container",children:[Object(j.jsxs)("div",{className:"asset-item asset-name",children:[Object(j.jsx)("div",{className:"asset-icon",children:Object(j.jsx)("img",{src:e.props.coinFinder(t.coin_id).logo,alt:"".concat(e.props.coinFinder(t.coin_id).symbol," icon")})}),Object(j.jsx)("p",{children:e.props.coinFinder(t.coin_id).symbol})]}),Object(j.jsxs)("div",{className:"asset-item asset-property",children:[Object(j.jsx)("p",{children:e.props.amountConverter(t.current_value)}),Object(j.jsx)("p",{children:t.current_quantity.toLocaleString("en-GB",{maximumFractionDigits:e.props.coinFinder(t.coin_id).quantity_scale})})]}),Object(j.jsxs)("div",{className:"asset-item asset-property",children:[Object(j.jsx)("p",{className:"".concat(e.props.priceColorSetter(t.absolute_yield)),children:e.props.amountConverter(t.absolute_yield)}),Object(j.jsx)("p",{className:"".concat(e.props.priceColorSetter(t.percentage_yield)),children:"".concat(t.percentage_yield.toFixed(2)," %")})]}),Object(j.jsx)("div",{className:"asset-item asset-settings",onClick:function(){return e.handleAssetDetailsButtonClick(t.coin_id)},children:Object(j.jsx)("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})})]},t.coin_id)}));return Object(j.jsxs)("div",{className:"portfolio-table",children:[Object(j.jsxs)("div",{className:"portfolio-header",children:[Object(j.jsx)("p",{className:"sortable-column",onClick:function(){return e.handleSortColumn(0)},children:"".concat(e.props.dataSort.portfolios.arrows[0]," Coin")}),Object(j.jsx)("p",{className:"sortable-column",onClick:function(){return e.handleSortColumn(1)},children:"".concat(e.props.dataSort.portfolios.arrows[1]," Value/Position ").concat(e.props.dataSort.portfolios.arrows[2])}),Object(j.jsx)("p",{className:"sortable-column",onClick:function(){return e.handleSortColumn(2)},children:"".concat(e.props.dataSort.portfolios.arrows[3]," Yield \u20ac/% ").concat(e.props.dataSort.portfolios.arrows[4])})]}),Object(j.jsx)("div",{className:"portfolio-assets",children:s})]})}return""}(this.props.loggedInUser.portfolios[this.props.currentPortfolio].assets)]})}}]),s}(a.Component)),x=(s(15),function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"guide-background",children:Object(j.jsxs)("div",{className:"guide-popup",children:[Object(j.jsx)("div",{className:"guide-close",children:Object(j.jsx)("p",{children:Object(j.jsx)("i",{className:"fa fa-times","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("PricesGuide",!1)}})})}),Object(j.jsxs)("div",{className:"guide-text",children:[Object(j.jsx)("h2",{className:"guide-main-header",children:"Crypto Portfolio Manager Guide"}),Object(j.jsx)("h3",{className:"guide-page-header",children:"Prices Page"}),Object(j.jsx)("p",{className:"guide-normal-text",children:"The Crypto Portfolio Manager is divided into two main pages, Prices and Portfolios. You can change between them by clicking on the Prices/Portfolios links."}),Object(j.jsx)("p",{className:"guide-normal-text",children:"On the Prices page, you can manage your watchlists. Watchlists are lists of coins you include to monitor their price change. When you register, you are assigned a Default watchlist that consists of Bitcoin (BTC), Ethereum (ETH) and USDT. You can manage your watchlists with the menu below the Prices/Portfolios links by:"}),Object(j.jsxs)("ul",{className:"guide-list",children:[Object(j.jsxs)("li",{children:["adding new watchlists - ",Object(j.jsx)("i",{className:"fa fa-plus-square","aria-hidden":"true"})]}),Object(j.jsxs)("li",{children:["editing your created watchlists - ",Object(j.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})]}),Object(j.jsx)("li",{children:"selecting from already created watchlists (dropdown menu)"}),Object(j.jsxs)("li",{children:["setting your preferred viewing currency (EUR, USD) - ",Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})]})]}),Object(j.jsxs)("h4",{className:"guide-subheader",children:["Add Watchlist - ",Object(j.jsx)("i",{className:"fa fa-plus-square","aria-hidden":"true"})]}),Object(j.jsx)("p",{className:"guide-normal-text",children:"In the Add Watchlist popup, enter a name for your new watchlist you would like to create, then click the Add button. Watchlist names should be unique."}),Object(j.jsxs)("h4",{className:"guide-subheader",children:["Edit Watchlist - ",Object(j.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})]}),Object(j.jsx)("p",{className:"guide-normal-text",children:"The Edit Watchlist popup always effects the selected watchlist. If you added a new watchlist, and have more than one, you can select between them using the dropdown list. The Edit Watchlist popup lets you manage the coins in the selected watchlist, rename the watchlist or delete the watchlist. There is a menu row for you to select the action you would like to carry out."}),Object(j.jsx)("p",{className:"guide-normal-text",children:Object(j.jsx)("b",{children:"Adding a new coin:"})}),Object(j.jsx)("p",{className:"guide-normal-text",children:"Click on the Manage Coins menu item, then click in the Add coin dropdown list, and select the coin you would like to add to your watchlist. Then click the Add button. You may also type in the field to narrow the search before clicking on any of the items."}),Object(j.jsx)("p",{className:"guide-normal-text",children:Object(j.jsx)("b",{children:"Removing a coin:"})}),Object(j.jsxs)("p",{className:"guide-normal-text",children:["If you don't need one of the coins in your watchlist any more, you can remove it by clicking the trashcan ",Object(j.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})," icon next to it."]}),Object(j.jsx)("p",{className:"guide-normal-text",children:Object(j.jsx)("b",{children:"Rename watchlist:"})}),Object(j.jsx)("p",{className:"guide-normal-text",children:"Click on the Rename menu item, change the name of your watchlist in the Name field, then click the Rename button."}),Object(j.jsx)("p",{className:"guide-normal-text",children:Object(j.jsx)("b",{children:"Delete watchlist:"})}),Object(j.jsx)("p",{className:"guide-normal-text",children:"If you don't need a watchlist any more, click on the Delete menu item, then click the Delete button. The watchlist will be deleted permanently, meaning that if you still need it, you will have to create the watchlist and add the coins to it again."}),Object(j.jsx)("p",{className:"guide-normal-text",children:"If you finished editing your watchlist, close the popup window with the Close button."}),Object(j.jsxs)("h4",{className:"guide-subheader",children:["Select Currency - ",Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})]}),Object(j.jsx)("p",{className:"guide-normal-text",children:"To select your viewing currency, click on the cogwheel icon to open the Select Currency popup. You may change between EUR and USD in the Currency dropdown list. Note: the Portfolio Manager's basic currency is EUR. Prices and portfolio transactions are registered in EUR. When you change to USD, the portfolio manager will show you all prices and amounts in USD based on the current EUR/USD exchange price for your convenience, but all the portfolios are EUR based portfolios and transactions (buys and sells) are registered in EUR."}),Object(j.jsx)("h4",{className:"guide-subheader",children:"Sorting"}),Object(j.jsx)("p",{className:"guide-normal-text",children:"Coins in your watchlist can be sorted by clicking on the column headers. Click on the Coin header to sort by name (ascending order). Click on it again to sort in descending order. Click on the Price/Change header to sort by price or price change. Price change is for the last 24 hours. An arrow appears near the property used for sorting and shows the direction of sorting (up arrow ascending, down arrow descending)."})]})]})})}}]),s}(a.Component)),O=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"guide-background",children:Object(j.jsxs)("div",{className:"guide-popup",children:[Object(j.jsx)("div",{className:"guide-close",children:Object(j.jsx)("p",{children:Object(j.jsx)("i",{className:"fa fa-times","aria-hidden":"true",onClick:function(){return e.props.makePopupVisible("PortfoliosGuide",!1)}})})}),Object(j.jsxs)("div",{className:"guide-text",children:[Object(j.jsx)("h2",{className:"guide-main-header",children:"Crypto Portfolio Manager Guide"}),Object(j.jsx)("h3",{className:"guide-page-header",children:"Portfolios Page"}),Object(j.jsx)("p",{className:"guide-normal-text",children:"The Crypto Portfolio Manager is divided into two main pages, Prices and Portfolios. You can change between them by clicking on the Prices/Portfolios links."}),Object(j.jsx)("p",{className:"guide-normal-text",children:"On the Portfolios page, you can manage your portfolios. Portfolios consist of assets, which in turn are made up of buy and sell transactions in coins. When you register, you are assigned an empty Default portfolio. You can manage your portfolios with the menu below the Prices/Portfolios links by:"}),Object(j.jsxs)("ul",{className:"guide-list",children:[Object(j.jsxs)("li",{children:["adding new portfolios - ",Object(j.jsx)("i",{className:"fa fa-plus-square","aria-hidden":"true"})]}),Object(j.jsxs)("li",{children:["editing your created portfolios - ",Object(j.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})]}),Object(j.jsx)("li",{children:"selecting from already created portfolios (dropdown menu)"}),Object(j.jsxs)("li",{children:["setting your preferred viewing currency (EUR, USD) - ",Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})]}),Object(j.jsxs)("li",{children:["creating buy and sell transactions in the selected portfolio - ",Object(j.jsx)("i",{className:"fa fa-money","aria-hidden":"true"})]}),Object(j.jsxs)("li",{children:["editing assets and transactions in the selected portfolio - ",Object(j.jsx)("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})]})]}),Object(j.jsxs)("h4",{className:"guide-subheader",children:["Add Portfolio - ",Object(j.jsx)("i",{className:"fa fa-plus-square","aria-hidden":"true"})]}),Object(j.jsx)("p",{className:"guide-normal-text",children:"In the Add Portfolio popup, enter a name for your new portfolio you would like to create, then click the Add button. Portfolio names should be unique."}),Object(j.jsxs)("h4",{className:"guide-subheader",children:["Edit Portfolio - ",Object(j.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})]}),Object(j.jsx)("p",{className:"guide-normal-text",children:"The Edit Portfolio popup always effects the selected portfolio. If you added a new portfolio, and have more than one, you can select between them using the dropdown list. The Edit Portfolio popup lets you rename or delete the watchlist. There is a menu row for you to select the action you would like to carry out."}),Object(j.jsx)("p",{className:"guide-normal-text",children:Object(j.jsx)("b",{children:"Rename portfolio:"})}),Object(j.jsx)("p",{className:"guide-normal-text",children:"Click on the Rename menu item, change the name of your portfolio in the Name field, then click the Rename button."}),Object(j.jsx)("p",{className:"guide-normal-text",children:Object(j.jsx)("b",{children:"Delete portfolio:"})}),Object(j.jsx)("p",{className:"guide-normal-text",children:"If you don't need a portfolio any more, click on the Delete menu item, then click the Delete button. The portfolio will be deleted permanently, meaning that if you still need it, you will have to create the portfolio and add the assets/transactions to it again."}),Object(j.jsx)("p",{className:"guide-normal-text",children:"If you finished editing your watchlist, close the popup window with the Close button."}),Object(j.jsxs)("h4",{className:"guide-subheader",children:["Select Currency - ",Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})]}),Object(j.jsx)("p",{className:"guide-normal-text",children:"To select your viewing currency, click on the cogwheel icon to open the Select Currency popup. You may change between EUR and USD in the Currency dropdown list. Note: the Portfolio Manager's basic currency is EUR. Prices and portfolio transactions are registered in EUR. When you change to USD, the portfolio manager will show you all prices and amounts in USD based on the current EUR/USD exchange price for your convenience, but all the portfolios are EUR based portfolios and transactions (buys and sells) are registered in EUR."}),Object(j.jsxs)("h4",{className:"guide-subheader",children:["Buy/Sell Asset - ",Object(j.jsx)("i",{className:"fa fa-money","aria-hidden":"true"})]}),Object(j.jsx)("p",{className:"guide-normal-text",children:"This is where you can buy coins into your portfolio, or sell previously bought coins. The basic unit of this portfolio manager are transactions, which means that any asset in your portfolio is made up of transactions in coins. You can have as many transactions in a portfolio in one coin as you would like, and they will show up as one asset."}),Object(j.jsx)("p",{className:"guide-normal-text",children:"To buy a coin, select it from the dropdown list first. You can also type in the Coin field to narrow the list. After selecting the coin, the other input fields become editable. Price and date fields will show the current price and date. Enter the purchased quantity, change the purchase price and the purchase date as required, then click Buy. The portfolio manager will warn you for errors and ommissions (e.g. you can't buy 0 coins)."}),Object(j.jsx)("p",{className:"guide-normal-text",children:"To sell a coin, select the coin you would like to sell. The portfolio manager will only offer you the list of coins you currently have in the selected portfolio, that is, it doesn't manage short selling. After the selection, all the other fields will become enabled and show you current quantity, price and date. Edit them as required, then clisk Sell."}),Object(j.jsx)("p",{className:"guide-normal-text",children:"If you are done, click the Close button to close the Buy/Sell Asset popup window."}),Object(j.jsx)("h4",{className:"guide-subheader",children:"Sorting"}),Object(j.jsx)("p",{className:"guide-normal-text",children:"Assets in your portfolio can be sorted by clicking on the column headers. Click on the Coin header to sort by name (ascending order). Click on it again to sort in descending order. You can also sort by asset value, current asset amount (position) as well as absolute and % asset yield in the same manner. An arrow appears near the property used for sorting and shows the direction of sorting (up arrow ascending, down arrow descending)."}),Object(j.jsx)("h4",{className:"guide-subheader",children:"Edit Asset"}),Object(j.jsx)("p",{className:"guide-normal-text",children:"The Details tab of the Edit Asset popup window shows you detailed information about the asset and all the transactions in it. It also lets you sell or delete the selected asset. Selling works the same way as in the Buy/Sell Assets. To Delete an asset and all the related transactions, click on the Delete button. Note: this will delete all transactions done in this asset. You can edit and delete transaction individually to. See below."}),Object(j.jsx)("h4",{className:"guide-subheader",children:"Edit Transactions"}),Object(j.jsx)("p",{className:"guide-normal-text",children:"When you click on the Transactions menu item, all the transactions done in the given asset is displayed sorted by date."}),Object(j.jsxs)("p",{className:"guide-normal-text",children:["To edit a transaction, click on the pencil icon ",Object(j.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"}),". The Edit Transaction popup window appears. You can only change the quantity, the price and/or the date. The portfolio manager will check the consistency of new and edited transactions with all the other transactions made in the given asset, and warn you for errors and ommissions."]}),Object(j.jsxs)("p",{className:"guide-normal-text",children:["To delete a transaction, click on the trashcan ",Object(j.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})," icon."]})]})]})})}}]),s}(a.Component),y=(s(29),function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={selectedCurrency:""},e.handleSelectCurrency=function(t){var s=t.target.value;e.setState({selectedCurrency:s})},e.handleClickOkButton=function(){e.props.handleCurrencyChange(e.state.selectedCurrency),e.props.makePopupVisible("PricesSettings",!1)},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.setState({selectedCurrency:this.props.loggedInUser.base_currency})}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"popup-background",children:Object(j.jsxs)("div",{className:"popup-foreground",children:[Object(j.jsxs)("div",{className:"popup-title",children:[Object(j.jsx)("p",{className:"popup-title-icon",children:Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})}),Object(j.jsx)("p",{children:"Select Currency"})]}),Object(j.jsx)("div",{className:"popup-description",children:Object(j.jsx)("p",{children:"Click on the Currency dropdown list to select the currency in which the prices on the Prices tab are displayed."})}),Object(j.jsxs)("div",{className:"select-currency-container",children:[Object(j.jsx)("label",{htmlFor:"select-currency",className:"select-currency-label",children:"Currency: "}),Object(j.jsxs)("select",{className:"select-currency-list",value:this.state.selectedCurrency,onChange:this.handleSelectCurrency,children:[Object(j.jsx)("option",{value:"EUR",children:"EUR"}),Object(j.jsx)("option",{value:"USD",children:"USD"})]})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickOkButton,children:"OK"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:function(){return e.props.makePopupVisible("PricesSettings",!1)},children:"Cancel"})]})]})})}}]),s}(a.Component)),v=(s(30),function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={nameInput:""},e.handleInputChange=function(t){var s=t.target.value;e.setState({nameInput:s})},e.handleLoginClick=function(){e.state.nameInput?e.props.handleUserLogin(e.state.nameInput):alert("Username cannot be empty")},e.handleRegisterClick=function(){e.state.nameInput?e.props.handleUserRegister(e.state.nameInput):alert("Username cannot be empty")},e.handleOkClick=function(){e.props.getUserData()},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this.props.errorMessage?this.props.errorMessage:"",t=""===this.props.loginMessage?Object(j.jsxs)("div",{className:"login-container",children:[Object(j.jsxs)("div",{className:"login-login",children:[Object(j.jsx)("label",{htmlFor:"username",className:"username-text",children:"Username"}),Object(j.jsx)("input",{type:"text",className:"username-input",name:"username",onChange:this.handleInputChange})]}),Object(j.jsx)("button",{type:"button",className:"login-button",onClick:this.handleLoginClick,children:"Login"}),Object(j.jsxs)("div",{className:"login-register",children:[Object(j.jsx)("p",{className:"register-text",children:"or enter a username and click"}),Object(j.jsx)("button",{type:"button",className:"register-button",onClick:this.handleRegisterClick,children:"Register"}),Object(j.jsx)("p",{className:"error-text",children:e})]})]}):Object(j.jsx)("div",{className:"login-container",children:Object(j.jsxs)("div",{className:"login-register",children:[Object(j.jsx)("p",{className:"register-text",children:this.props.loginMessage}),Object(j.jsx)("button",{type:"button",className:"register-button",onClick:this.handleOkClick,children:"OK"})]})});return Object(j.jsx)("div",{className:"popup-background",children:Object(j.jsxs)("div",{className:"popup-foreground login-popup-foreground",children:[Object(j.jsxs)("h2",{className:"login-title",children:["Crypto Portfolio Manager",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Login"]}),t]})})}}]),s}(a.Component)),N=(s(16),function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={watchlistName:""},e.handleInputChange=function(t){var s=t.target.value;e.setState({watchlistName:s})},e.handleClickAddButton=function(){""===e.state.watchlistName?alert("You have to add a name first!"):e.props.handleCreateNewWatchlist(e.state.watchlistName)},e.handleClickCancelButton=function(){e.props.clearErrorMessage(),e.props.makePopupVisible("AddWatchlist",!1)},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this.props.errorMessage?this.props.errorMessage:"";return Object(j.jsx)("div",{className:"popup-background",children:Object(j.jsxs)("div",{className:"popup-foreground",children:[Object(j.jsxs)("div",{className:"popup-title",children:[Object(j.jsx)("p",{className:"popup-title-icon",children:Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})}),Object(j.jsx)("p",{children:"Add Watchlist"})]}),Object(j.jsx)("div",{className:"popup-description",children:Object(j.jsx)("p",{children:"Enter a name for your new watchlist, then click Add. Click Cancel to close the dialogue without adding a new watchlist."})}),Object(j.jsxs)("div",{className:"add-popup-input-container",children:[Object(j.jsxs)("div",{className:"add-popup-input",children:[Object(j.jsx)("label",{htmlFor:"watchlist-name",className:"add-popup-name-label",children:"Watchlist name"}),Object(j.jsx)("input",{type:"text",className:"add-popup-name-input",name:"watchlist-name",onChange:this.handleInputChange})]}),Object(j.jsx)("p",{className:"error-text",children:e})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickAddButton,children:"Add"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickCancelButton,children:"Cancel"})]})]})})}}]),s}(a.Component)),C=(s(10),s(31),function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={symbol:"",symbolInput:""},e.handleSymbolInputChange=function(t){var s=t.target.value;e.setState({symbol:s.toUpperCase(),symbolInput:s.toUpperCase()})},e.handleClickOnListItem=function(t){var s=t.target.value;e.setState({symbol:s.toUpperCase(),symbolInput:""})},e.handleClickAddButton=function(){var t=1===e.props.coins.filter((function(t){return t.symbol===e.state.symbol})).length?e.props.coins.filter((function(t){return t.symbol===e.state.symbol}))[0].coinId:-1;-1===t?alert("This portfolio manager does not recognise the coin you entered. Select one from the list."):e.props.addWatchlistItem(t),e.setState({symbol:"",symbolInput:""})},e.handleClickCloseButton=function(){e.props.clearErrorMessage(),e.props.makePopupVisible("EditWatchlist",!1)},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t=this.props.errorMessage?this.props.errorMessage:"",s=Object(d.a)(this.props.coins).sort(this.props.compareFunction("symbol",!0)).map((function(t){return Object(j.jsx)("option",{className:"ticker-item",value:t.symbol,onClick:e.handleClickOnListItem,children:t.coinName},t.coinId)})),a=this.props.coinListCreator().sort(this.props.compareFunction("symbol",!0)).map((function(t){return Object(j.jsxs)("div",{className:"edit-watchlist-coin-item",children:[Object(j.jsxs)("div",{className:"edit-watchlist-coin-text-container",children:[Object(j.jsx)("div",{className:"edit-watchlist-coin-image",children:Object(j.jsx)("img",{src:t.logo,alt:"".concat(t.symbol," icon")})}),Object(j.jsx)("p",{className:"edit-watchlist-coin-text",children:"".concat(t.symbol,"  -  ").concat(t.coinName)})]}),Object(j.jsx)("div",{className:"edit-watchlist-delete-icon",children:Object(j.jsx)("i",{className:"fa fa-trash","aria-hidden":"true",onClick:function(){return e.props.deleteWatchlistItem(t.coinId)}})})]},t.coinId)}));return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Add/remove coin"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"To add a new coin to your watchlist, select one from the dropdown, then click Add. To delete a coin from your watchlist, click on the trashcan icon next to the coin you want to delete."})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"ticker-input",children:"Add coin"}),Object(j.jsx)("input",{type:"text",name:"ticker-input",className:"edit-popup-input-field",list:"ticker-list",autoComplete:"off",value:this.state.symbol,onChange:this.handleSymbolInputChange}),Object(j.jsx)("datalist",{className:"ticker-list",id:"ticker-list",children:s})]}),Object(j.jsx)("div",{className:"edit-watchlist-coin-container",children:a}),Object(j.jsx)("p",{className:"error-text",children:t})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickAddButton,children:"Add"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickCloseButton,children:"Close"})]})]})}}]),s}(a.Component)),k=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={watchlistName:""},e.handleNameInputChange=function(t){var s=t.target.value.length<=20?t.target.value:t.target.value.slice(0,20);e.setState({watchlistName:s})},e.handleClickRenameButton=function(){e.state.watchlistName?e.props.renameWatchlist(e.state.watchlistName):alert("You need to add a name in the Name field first.")},e.handleClickCloseButton=function(){e.props.clearErrorMessage(),e.props.makePopupVisible("EditWatchlist",!1)},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.setState({watchlistName:this.props.loggedInUser.watchlists[this.props.currentWatchlist].name})}},{key:"render",value:function(){var e=this.props.errorMessage?this.props.errorMessage:"";return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Rename watchlist"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"To rename the watchlist, edit the name in the Name field, then click Rename."})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"name-input",children:"Name"}),Object(j.jsx)("input",{type:"text",name:"name-input",className:"edit-popup-input-field",value:this.state.watchlistName,onChange:this.handleNameInputChange})]}),Object(j.jsx)("p",{className:"error-text",children:e})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickRenameButton,children:"Rename"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickCloseButton,children:"Close"})]})]})}}]),s}(a.Component),w=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).handleClickDeleteButton=function(){e.props.deleteWatchlist(),e.props.makePopupVisible("EditWatchlist",!1)},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t=this.props.errorMessage?this.props.errorMessage:"";return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Delete watchlist"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"To delete the watchlist, click Delete."}),Object(j.jsxs)("p",{className:"edit-popup-input-description-text warning-text",children:[Object(j.jsx)("span",{className:"warning-text-highlight",children:"Warning:"}),Object(j.jsx)("br",{}),"You are about to delete the watchlist ",Object(j.jsx)("span",{className:"warning-text-highlight",children:this.props.loggedInUser.watchlists[this.props.currentWatchlist].name}),".",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"The deletion of the watchlist is permanent, you will not be able to recover it after clicking Delete."]})]}),Object(j.jsx)("p",{className:"error-text",children:t})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickDeleteButton,children:"Delete"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:function(){return e.props.makePopupVisible("EditWatchlist",!1)},children:"Close"})]})]})}}]),s}(a.Component),S=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={page:"Manage"},e.handleTabChange=function(t){e.props.clearErrorMessage(),e.setState({page:t})},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t="",s="popup-menu-item popup-menu-item-active",a="popup-menu-item",i="popup-menu-item";return"Manage"===this.state.page&&(t=Object(j.jsx)(C,{errorMessage:this.props.errorMessage,clearErrorMessage:this.props.clearErrorMessage,makePopupVisible:this.props.makePopupVisible,coins:this.props.coins,coinListCreator:this.props.coinListCreator,deleteWatchlistItem:this.props.deleteWatchlistItem,addWatchlistItem:this.props.addWatchlistItem,compareFunction:this.props.compareFunction})),"Rename"===this.state.page&&(t=Object(j.jsx)(k,{errorMessage:this.props.errorMessage,clearErrorMessage:this.props.clearErrorMessage,renameWatchlist:this.props.renameWatchlist,makePopupVisible:this.props.makePopupVisible,loggedInUser:this.props.loggedInUser,currentWatchlist:this.props.currentWatchlist}),s="popup-menu-item",a="popup-menu-item popup-menu-item-active",i="popup-menu-item"),"Delete"===this.state.page&&(t=Object(j.jsx)(w,{errorMessage:this.props.errorMessage,makePopupVisible:this.props.makePopupVisible,loggedInUser:this.props.loggedInUser,currentWatchlist:this.props.currentWatchlist,deleteWatchlist:this.props.deleteWatchlist}),s="popup-menu-item",a="popup-menu-item",i="popup-menu-item popup-menu-item-active"),Object(j.jsx)("div",{className:"popup-background",children:Object(j.jsxs)("div",{className:"popup-foreground",children:[Object(j.jsxs)("div",{className:"popup-title",children:[Object(j.jsx)("p",{className:"popup-title-icon",children:Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})}),Object(j.jsxs)("p",{children:["Edit Watchlist - ",this.props.loggedInUser.watchlists[this.props.currentWatchlist].name]})]}),Object(j.jsx)("div",{className:"popup-description",children:Object(j.jsx)("p",{children:"On the Manage Coins tab, you can add new coins to your watchlist or remove coins. You can rename or delete the current watchlist on the Rename or Delete tab."})}),Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{className:"popup-menu-container",children:[Object(j.jsx)("li",{className:s,onClick:function(){return e.handleTabChange("Manage")},children:"Manage Coins"}),Object(j.jsx)("li",{className:a,onClick:function(){return e.handleTabChange("Rename")},children:"Rename"}),Object(j.jsx)("li",{className:i,onClick:function(){return e.handleTabChange("Delete")},children:"Delete"})]})}),t]})})}}]),s}(a.Component),I=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={portfolioName:""},e.handleInputChange=function(t){var s=t.target.value;e.setState({portfolioName:s})},e.handleClickAddButton=function(){""===e.state.portfolioName?alert("You have to add a name first!"):e.props.handleCreateNewPortfolio(e.state.portfolioName)},e.handleClickCancelButton=function(){e.props.clearErrorMessage(),e.props.makePopupVisible("AddPortfolio",!1)},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this.props.errorMessage?this.props.errorMessage:"";return Object(j.jsx)("div",{className:"popup-background",children:Object(j.jsxs)("div",{className:"popup-foreground",children:[Object(j.jsxs)("div",{className:"popup-title",children:[Object(j.jsx)("p",{className:"popup-title-icon",children:Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})}),Object(j.jsx)("p",{children:"Add Portfolio"})]}),Object(j.jsx)("div",{className:"popup-description",children:Object(j.jsx)("p",{children:"Enter a name for your new portfolio, then click Add. Click Cancel to close the dialogue without adding a new portfolio."})}),Object(j.jsxs)("div",{className:"add-popup-input-container",children:[Object(j.jsxs)("div",{className:"add-popup-input",children:[Object(j.jsx)("label",{htmlFor:"portfolio-name",className:"add-popup-name-label",children:"Portfolio name"}),Object(j.jsx)("input",{type:"text",className:"add-popup-name-input",name:"portfolio-name",onChange:this.handleInputChange})]}),Object(j.jsx)("p",{className:"error-text",children:e})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickAddButton,children:"Add"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickCancelButton,children:"Cancel"})]})]})})}}]),s}(a.Component),P=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={portfolioName:""},e.handleNameInputChange=function(t){var s=t.target.value.length<=20?t.target.value:t.target.value.slice(0,20);e.setState({portfolioName:s})},e.handleClickRenameButton=function(){e.state.portfolioName?e.props.renamePortfolio(e.state.portfolioName):alert("You need to add a name in the Name field first.")},e.handleClickCloseButton=function(){e.props.clearErrorMessage(),e.props.makePopupVisible("EditPortfolio",!1)},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.setState({portfolioName:this.props.loggedInUser.portfolios[this.props.currentPortfolio].name})}},{key:"render",value:function(){var e=this.props.errorMessage?this.props.errorMessage:"";return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Rename portfolio"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"To rename the portfolio, edit the name in the Name field, then click Rename."})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"name-input",children:"Name"}),Object(j.jsx)("input",{type:"text",name:"name-input",className:"edit-popup-input-field",value:this.state.portfolioName,onChange:this.handleNameInputChange})]}),Object(j.jsx)("p",{className:"error-text",children:e})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickRenameButton,children:"Rename"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickCloseButton,children:"Close"})]})]})}}]),s}(a.Component),_=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).handleClickDeleteButton=function(){e.props.deletePortfolio(),e.props.makePopupVisible("EditPortfolio",!1)},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t=this.props.errorMessage?this.props.errorMessage:"";return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Delete portfolio"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"To delete the portfolio, click Delete."}),Object(j.jsxs)("p",{className:"edit-popup-input-description-text warning-text",children:[Object(j.jsx)("span",{className:"warning-text-highlight",children:"Warning:"}),Object(j.jsx)("br",{}),"You are about to delete the portfolio ",Object(j.jsx)("span",{className:"warning-text-highlight",children:this.props.loggedInUser.portfolios[this.props.currentPortfolio].name}),".",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"The deletion of the portfolio and all its assets is permanent, you will not be able to recover them after clicking Delete."]})]}),Object(j.jsx)("p",{className:"error-text",children:t})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickDeleteButton,children:"Delete"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:function(){return e.props.makePopupVisible("EditPortfolio",!1)},children:"Close"})]})]})}}]),s}(a.Component),U=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={page:"Rename"},e.handleTabChange=function(t){e.props.clearErrorMessage(),e.setState({page:t})},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t="",s="popup-menu-item",a="popup-menu-item";return"Rename"===this.state.page&&(t=Object(j.jsx)(P,{errorMessage:this.props.errorMessage,clearErrorMessage:this.props.clearErrorMessage,loggedInUser:this.props.loggedInUser,currentPortfolio:this.props.currentPortfolio,makePopupVisible:this.props.makePopupVisible,renamePortfolio:this.props.renamePortfolio}),s="popup-menu-item popup-menu-item-active",a="popup-menu-item"),"Delete"===this.state.page&&(t=Object(j.jsx)(_,{errorMessage:this.props.errorMessage,loggedInUser:this.props.loggedInUser,currentPortfolio:this.props.currentPortfolio,makePopupVisible:this.props.makePopupVisible,deletePortfolio:this.props.deletePortfolio}),s="popup-menu-item",a="popup-menu-item popup-menu-item-active"),Object(j.jsx)("div",{className:"popup-background",children:Object(j.jsxs)("div",{className:"popup-foreground",children:[Object(j.jsxs)("div",{className:"popup-title",children:[Object(j.jsx)("p",{className:"popup-title-icon",children:Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})}),Object(j.jsxs)("p",{children:["Edit Portfolio - ",this.props.loggedInUser.portfolios[this.props.currentPortfolio].name]})]}),Object(j.jsx)("div",{className:"popup-description",children:Object(j.jsx)("p",{children:"You can rename or delete the current portfolio."})}),Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{className:"popup-menu-container",children:[Object(j.jsx)("li",{className:s,onClick:function(){return e.handleTabChange("Rename")},children:"Rename"}),Object(j.jsx)("li",{className:a,onClick:function(){return e.handleTabChange("Delete")},children:"Delete"})]})}),t]})})}}]),s}(a.Component),D=(s(32),function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={symbol:"",symbolInput:"",quantity:0,quantity_scale:8,price:0,price_scale:8,date:"",disabledInput:"disabled"},e.handleSymbolInputChange=function(t){var s=t.target.value;if(e.setState({symbol:s.toUpperCase(),symbolInput:s.toUpperCase(),disabledInput:"disabled",quantity:0,quantity_scale:8,price:0,price_scale:8,date:""}),e.props.coins.filter((function(e){return e.symbol===s.toUpperCase()})).length>0){var a=e.props.coins.filter((function(e){return e.symbol===s.toUpperCase()}))[0],i=a.price_eur,n=(new Date).toISOString().substring(0,10);e.setState({quantity_scale:a.quantity_scale,price:i,price_scale:a.price_scale,date:n,disabledInput:""})}},e.handleClickOnListItem=function(t){var s=t.target.value;e.setState({symbol:s.toUpperCase(),symbolInput:""})},e.handleQuantityInputChange=function(t){var s=e.props.inputDecimalSetter(t.target.value,8);if(e.props.coins.filter((function(t){return t.symbol===e.state.symbol})).length>0){var a=e.props.coins.filter((function(t){return t.symbol===e.state.symbol}))[0].quantity_scale;s=e.props.inputDecimalSetter(t.target.value,a)}e.setState({quantity:s})},e.handlePriceInputChange=function(t){var s=e.props.inputDecimalSetter(t.target.value,8);if(e.props.coins.filter((function(t){return t.symbol===e.state.symbol})).length>0){var a=e.props.coins.filter((function(t){return t.symbol===e.state.symbol}))[0].price_scale;s=e.props.inputDecimalSetter(t.target.value,a)}e.setState({price:s})},e.handleDateInputChange=function(t){var s=t.target.value;e.setState({date:s})},e.handleClickBuyButton=function(){var t=1===e.props.coins.filter((function(t){return t.symbol===e.state.symbol})).length?e.props.coins.filter((function(t){return t.symbol===e.state.symbol}))[0].coinId:-1,s=new Date,a=new Date(e.state.date);-1===t||e.state.quantity<=0||e.state.price<=0||a>s?alert("Some of the data are invalid, check and correct any invalid data:\n- symbol should exist (select one from the list),\n- quantity and purchase price should be > 0,\n- purchase date cannot be in the future."):(e.props.addTransactionToPortfolio(t,0,e.state.quantity,e.state.price,e.state.date),e.setState({symbol:"",symbolInput:"",quantity:0,quantity_scale:8,price:0,price_scale:8,date:""}))},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t=this.props.errorMessage?this.props.errorMessage:"",s=Object(d.a)(this.props.coins).sort(this.props.compareFunction("symbol",!0)).map((function(t){return Object(j.jsx)("option",{className:"ticker-item",value:t.symbol,onClick:e.handleClickOnListItem,children:t.coinName},t.coinId)})),a=Object(d.a)(this.props.loggedInUser.portfolios[this.props.currentPortfolio].assets).sort(this.props.compareFunction("symbol",!0)).map((function(t){return Object(j.jsx)("div",{className:"buy-sell-asset-item",children:Object(j.jsxs)("div",{className:"buy-sell-asset-coin-text-container",children:[Object(j.jsx)("div",{className:"buy-sell-asset-coin-image",children:Object(j.jsx)("img",{src:e.props.coinFinder(t.coin_id).logo,alt:"".concat(e.props.coinFinder(t.coin_id).symbol," icon")})}),Object(j.jsx)("p",{children:"".concat(e.props.coinFinder(t.coin_id).symbol,"  -  ").concat(t.current_quantity.toLocaleString("en-GB",{maximumFractionDigits:e.props.coinFinder(t.coin_id).quantity_scale}))})]})},t.coin_id)}));return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Buy asset"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"To buy an asset, select the purchased coin and enter the purchased quantity, the purchase price and the purchase date, then click Buy."})]}),Object(j.jsxs)("div",{className:"edit-popup-input",children:[Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"ticker-list",children:"Coin"}),Object(j.jsx)("input",{type:"text",name:"ticker-input",className:"edit-popup-input-field",list:"ticker-list",autoComplete:"off",value:this.state.symbol,onChange:this.handleSymbolInputChange}),Object(j.jsx)("datalist",{className:"ticker-list",id:"ticker-list",children:s})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"quantity-input",children:"Quantity"}),Object(j.jsx)("input",{type:"number",name:"quantity-input",className:"edit-popup-input-field",min:"0",step:"1e-".concat(this.state.quantity_scale),value:this.state.quantity,onChange:this.handleQuantityInputChange,disabled:this.state.disabledInput})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"buyprice-input",children:"Price (\u20ac)"}),Object(j.jsx)("input",{type:"number",name:"buyprice-input",className:"edit-popup-input-field",min:"0",step:"1e-".concat(this.state.price_scale),value:this.state.price,onChange:this.handlePriceInputChange,disabled:this.state.disabledInput})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"buydate-input",children:"Date"}),Object(j.jsx)("input",{type:"date",name:"buydate-input",className:"edit-popup-input-field",min:"2010-01-01",value:this.state.date,onChange:this.handleDateInputChange,disabled:this.state.disabledInput})]})]}),Object(j.jsx)("div",{className:"buy-sell-asset-container",children:a}),Object(j.jsx)("p",{className:"error-text",children:t})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickBuyButton,children:"Buy"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:function(){return e.props.makePopupVisible("BuySellAsset",!1)},children:"Close"})]})]})}}]),s}(a.Component)),T=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={symbol:"",symbolInput:"",quantity:0,quantity_scale:8,price:0,price_scale:8,date:"",disabledInput:"disabled"},e.handleSymbolInputChange=function(t){var s=t.target.value;if(e.setState({symbol:s.toUpperCase(),symbolInput:s.toUpperCase(),disabledInput:"disabled",quantity:0,quantity_scale:8,price:0,price_scale:8,date:""}),e.props.coins.filter((function(e){return e.symbol===s.toUpperCase()})).length>0){var a=e.props.coins.filter((function(e){return e.symbol===s.toUpperCase()}))[0],i=a.coinId,n=e.props.loggedInUser.portfolios[e.props.currentPortfolio].assets.filter((function(e){return e.coin_id===i}))[0].current_quantity,r=a.price_eur,o=(new Date).toISOString().substring(0,10);e.setState({quantity:n,quantity_scale:a.quantity_scale,price:r,price_scale:a.price_scale,date:o,disabledInput:""})}},e.handleClickOnListItem=function(t){var s=t.target.value;e.setState({symbol:s.toUpperCase(),symbolInput:""})},e.handleQuantityInputChange=function(t){var s=e.props.inputDecimalSetter(t.target.value,8);if(e.props.coins.filter((function(t){return t.symbol===e.state.symbol})).length>0){var a=e.props.coins.filter((function(t){return t.symbol===e.state.symbol}))[0].quantity_scale;s=e.props.inputDecimalSetter(t.target.value,a)}e.setState({quantity:s})},e.handlePriceInputChange=function(t){var s=e.props.inputDecimalSetter(t.target.value,8);if(e.props.coins.filter((function(t){return t.symbol===e.state.symbol})).length>0){var a=e.props.coins.filter((function(t){return t.symbol===e.state.symbol}))[0].price_scale;s=e.props.inputDecimalSetter(t.target.value,a)}e.setState({price:s})},e.handleDateInputChange=function(t){var s=t.target.value;e.setState({date:s})},e.handleClickSellButton=function(){var t=1===e.props.coins.filter((function(t){return t.symbol===e.state.symbol})).length?e.props.coins.filter((function(t){return t.symbol===e.state.symbol}))[0].coinId:-1,s=e.props.loggedInUser.portfolios[e.props.currentPortfolio],a=s.assets.filter((function(e){return e.coin_id===t}))[0],i=s.transactions.filter((function(e){return e.coin_id===a.coin_id}));if(i.push({buy_sell:1,quantity:e.state.quantity,price:e.state.price,date:e.state.date}),e.props.transactionQuantityChecker(i))alert("Sell unsuccessful. The total quantity of the asset would be less than zero at some date.");else{var n=-1===t?0:a.current_quantity,r=new Date,o=new Date(e.state.date);-1===t||e.state.quantity<=0||e.state.quantity>n||e.state.price<=0||o>r?alert("Some of the data are invalid, check and correct any invalid data:\n- symbol should exist (select one from the list),\n- quantity and price should be > 0,\n- quantity cannot be more than available quantity,\n- date cannot be in the future."):(e.props.addTransactionToPortfolio(t,1,e.state.quantity,e.state.price,e.state.date),e.setState({symbol:"",symbolInput:"",quantity:0,quantity_scale:8,price:0,price_scale:8,date:""}))}},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t=this.props.errorMessage?this.props.errorMessage:"",s=Object(d.a)(this.props.loggedInUser.portfolios[this.props.currentPortfolio].assets).map((function(t){return e.props.coinFinder(t.coin_id)})).sort(this.props.compareFunction("symbol",!0)).map((function(t){return Object(j.jsx)("option",{className:"ticker-item",value:t.symbol,onClick:e.handleClickOnListItem,children:t.coinName},t.coinId)})),a=Object(d.a)(this.props.loggedInUser.portfolios[this.props.currentPortfolio].assets).sort(this.props.compareFunction("symbol",!0)).map((function(t){return Object(j.jsx)("div",{className:"buy-sell-asset-item",children:Object(j.jsxs)("div",{className:"buy-sell-asset-coin-text-container",children:[Object(j.jsx)("div",{className:"buy-sell-asset-coin-image",children:Object(j.jsx)("img",{src:e.props.coinFinder(t.coin_id).logo,alt:"".concat(e.props.coinFinder(t.coin_id).symbol," icon")})}),Object(j.jsx)("p",{children:"".concat(e.props.coinFinder(t.coin_id).symbol,"  -  ").concat(t.current_quantity.toLocaleString("en-GB",{maximumFractionDigits:e.props.coinFinder(t.coin_id).quantity_scale}))})]})},t.coin_id)}));return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Sell asset"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"To sell an asset, select the coin to sell (if it is not already selected), change the quantity, price and date as necessary, then click Sell."})]}),Object(j.jsxs)("div",{className:"edit-popup-input",children:[Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"ticker-list",children:"Coin"}),Object(j.jsx)("input",{type:"text",name:"ticker-input",className:"edit-popup-input-field",list:"ticker-list",autoComplete:"off",value:this.state.symbol,onChange:this.handleSymbolInputChange}),Object(j.jsx)("datalist",{className:"ticker-list",id:"ticker-list",children:s})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"quantity-input",children:"Quantity"}),Object(j.jsx)("input",{type:"number",name:"quantity-input",className:"edit-popup-input-field",min:"0",step:"1e-".concat(this.state.quantity_scale),value:this.state.quantity,onChange:this.handleQuantityInputChange,disabled:this.state.disabledInput})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"buyprice-input",children:"Price (\u20ac)"}),Object(j.jsx)("input",{type:"number",name:"buyprice-input",className:"edit-popup-input-field",min:"0",step:"1e-".concat(this.state.price_scale),value:this.state.price,onChange:this.handlePriceInputChange,disabled:this.state.disabledInput})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"buydate-input",children:"Date"}),Object(j.jsx)("input",{type:"date",name:"buydate-input",className:"edit-popup-input-field",min:"2010-01-01",value:this.state.date,onChange:this.handleDateInputChange,disabled:this.state.disabledInput})]})]}),Object(j.jsx)("div",{className:"buy-sell-asset-container",children:a}),Object(j.jsx)("p",{className:"error-text",children:t})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickSellButton,children:"Sell"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:function(){return e.props.makePopupVisible("BuySellAsset",!1)},children:"Close"})]})]})}}]),s}(a.Component),F=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={page:"Buy"},e.handleTabChange=function(t){e.setState({page:t})},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t="",s="popup-menu-item popup-menu-item-active",a="popup-menu-item";return"Buy"===this.state.page&&(t=Object(j.jsx)(D,{errorMessage:this.props.errorMessage,coins:this.props.coins,makePopupVisible:this.props.makePopupVisible,loggedInUser:this.props.loggedInUser,currentPortfolio:this.props.currentPortfolio,coinFinder:this.props.coinFinder,addTransactionToPortfolio:this.props.addTransactionToPortfolio,compareFunction:this.props.compareFunction,inputDecimalSetter:this.props.inputDecimalSetter})),"Sell"===this.state.page&&(t=Object(j.jsx)(T,{errorMessage:this.props.errorMessage,coins:this.props.coins,makePopupVisible:this.props.makePopupVisible,loggedInUser:this.props.loggedInUser,currentPortfolio:this.props.currentPortfolio,coinFinder:this.props.coinFinder,addTransactionToPortfolio:this.props.addTransactionToPortfolio,compareFunction:this.props.compareFunction,transactionQuantityChecker:this.props.transactionQuantityChecker,inputDecimalSetter:this.props.inputDecimalSetter}),s="popup-menu-item",a="popup-menu-item popup-menu-item-active"),Object(j.jsx)("div",{className:"popup-background",children:Object(j.jsxs)("div",{className:"popup-foreground",children:[Object(j.jsxs)("div",{className:"popup-title",children:[Object(j.jsx)("p",{className:"popup-title-icon",children:Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})}),Object(j.jsxs)("p",{children:["Buy/Sell Asset - ",this.props.loggedInUser.portfolios[this.props.currentPortfolio].name]})]}),Object(j.jsx)("div",{className:"popup-description",children:Object(j.jsx)("p",{children:"You can buy and sell assets in the current portfolio."})}),Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{className:"popup-menu-container",children:[Object(j.jsx)("li",{className:s,onClick:function(){return e.handleTabChange("Buy")},children:"Buy Asset"}),Object(j.jsx)("li",{className:a,onClick:function(){return e.handleTabChange("Sell")},children:"Sell Asset"})]})}),t]})})}}]),s}(a.Component),M=(s(33),function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t=this.props.loggedInUser.portfolios[this.props.currentPortfolio],s=t.assets[this.props.currentAsset],a=s.current_quantity*this.props.coinFinder(s.coin_id).price_eur,i=Number.parseFloat((a+s.sold_value-s.bought_value).toFixed(2)),n=Number.parseFloat((i/s.bought_value*100).toFixed(2)),r=(a/Number.parseFloat(t.assets.map((function(t){return t.current_quantity*e.props.coinFinder(t.coin_id).price_eur})).reduce((function(e,t){return e+t}),0).toFixed(2))*100).toFixed(2),o=this.props.errorMessage?this.props.errorMessage:"";return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Asset details"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"This page shows you all the details of this asset, its transactions and profit/loss."})]}),Object(j.jsxs)("div",{className:"edit-asset-details-container",children:[Object(j.jsxs)("div",{className:"edit-asset-details-name-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-icon",children:Object(j.jsx)("img",{src:this.props.coinFinder(s.coin_id).logo,alt:"".concat(this.props.coinFinder(s.coin_id).symbol," icon")})}),Object(j.jsxs)("p",{className:"edit-asset-details-name",children:[this.props.coinFinder(s.coin_id).symbol," - ",this.props.coinFinder(s.coin_id).coinName]})]}),Object(j.jsx)("h3",{className:"edit-asset-details-group-name",children:"Currently in Portfolio"}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Current Quantity"}),Object(j.jsx)("p",{className:"edit-asset-details-data",children:s.current_quantity.toLocaleString("en-GB",{maximumFractionDigits:this.props.coinFinder(s.coin_id).quantity_scale})})]}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Current Price"}),Object(j.jsx)("p",{className:"edit-asset-details-data",children:this.props.priceConverter(this.props.coinFinder(s.coin_id))})]}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Current Value"}),Object(j.jsx)("p",{className:"edit-asset-details-data",children:this.props.amountConverter(a)})]}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Share in Portfolio"}),Object(j.jsxs)("p",{className:"edit-asset-details-data",children:[r," %"]})]}),Object(j.jsx)("h3",{className:"edit-asset-details-group-name",children:"Buy Transactions"}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Total Buy Qty"}),Object(j.jsx)("p",{className:"edit-asset-details-data",children:s.total_buy_quantity.toLocaleString("en-GB",{maximumFractionDigits:this.props.coinFinder(s.coin_id).quantity_scale})})]}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Total Buy Value"}),Object(j.jsx)("p",{className:"edit-asset-details-data",children:this.props.amountConverter(s.bought_value)})]}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Total Buy Avg. Price"}),Object(j.jsx)("p",{className:"edit-asset-details-data",children:this.props.valueConverter(0===s.total_buy_quantity?0:s.bought_value/s.total_buy_quantity,this.props.coinFinder(s.coin_id))})]}),Object(j.jsx)("h3",{className:"edit-asset-details-group-name",children:"Sell Transactions"}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Total Sell Qty"}),Object(j.jsx)("p",{className:"edit-asset-details-data",children:s.total_sell_quantity.toLocaleString("en-GB",{maximumFractionDigits:this.props.coinFinder(s.coin_id).quantity_scale})})]}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Total Sell Value"}),Object(j.jsx)("p",{className:"edit-asset-details-data",children:this.props.amountConverter(s.sold_value)})]}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Total Sell Avg. Price"}),Object(j.jsx)("p",{className:"edit-asset-details-data",children:this.props.valueConverter(0===s.total_sell_quantity?0:s.sold_value/s.total_sell_quantity,this.props.coinFinder(s.coin_id))})]}),Object(j.jsx)("h3",{className:"edit-asset-details-group-name",children:"Profit"}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Net Profit/Loss"}),Object(j.jsx)("p",{className:"edit-asset-details-data ".concat(this.props.priceColorSetter(n)),children:this.props.amountConverter(i)})]}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"Yield"}),Object(j.jsxs)("p",{className:"edit-asset-details-data ".concat(this.props.priceColorSetter(n)),children:[n.toFixed(2)," %"]})]}),Object(j.jsxs)("div",{className:"edit-asset-details-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-label",children:"APY"}),Object(j.jsxs)("p",{className:"edit-asset-details-data ".concat(this.props.priceColorSetter(n)),children:[s.apy.toFixed(2)," %"]})]})]}),Object(j.jsx)("p",{className:"error-text",children:o})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("p",{}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:function(){return e.props.makePopupVisible("EditAsset",!1)},children:"Close"})]})]})}}]),s}(a.Component)),q=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).handleClickEditTransactionIcon=function(t){var s=e.props.loggedInUser.portfolios[e.props.currentPortfolio].transactions.findIndex((function(e){return e.id===t}));e.props.setCurrentIndex(s,"transaction"),e.props.makePopupVisible("EditTransaction",!0)},e.handleClickDeleteTransactionIcon=function(t){var s=e.props.loggedInUser.portfolios[e.props.currentPortfolio];if(0===t.buy_sell){var a=s.transactions.filter((function(e){return e.coin_id===t.coin_id})).filter((function(e){return e.id!==t.id}));e.props.transactionQuantityChecker(a)?alert("This transaction cannot be deleted, only modified. The total quantity of the asset at the date of the transaction would be less than zero after deleting it."):(e.props.deleteTransaction(t.id),1===s.transactions.length&&e.props.makePopupVisible("EditAsset",!1))}else e.props.deleteTransaction(t.id),1===s.transactions.length&&e.props.makePopupVisible("EditAsset",!1)},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t=this.props.loggedInUser.portfolios[this.props.currentPortfolio],s=t.assets[this.props.currentAsset],a=this.props.errorMessage?this.props.errorMessage:"",i=Object(d.a)(t.transactions).filter((function(e){return e.coin_id===s.coin_id})).sort(this.props.compareFunction("date",!0)).map((function(t){return Object(j.jsxs)("div",{className:"edit-asset-details-transaction-item-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-transaction-item-date",children:t.date}),Object(j.jsxs)("div",{className:"edit-asset-details-transaction-item",children:[Object(j.jsx)("p",{className:"edit-asset-details-transaction-buysell",children:0===t.buy_sell?"Buy":"Sell"}),Object(j.jsx)("p",{className:"edit-asset-details-transaction-quantity",children:t.quantity.toLocaleString("en-GB",{maximumFractionDigits:e.props.coinFinder(t.coin_id).quantity_scale})}),Object(j.jsx)("p",{className:"edit-asset-details-transaction-price",children:e.props.valueConverter(t.price,e.props.coinFinder(t.coin_id))}),Object(j.jsxs)("div",{className:"edit-asset-details-transaction-item-icon-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-transaction-item-icon",children:Object(j.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true",onClick:function(){return e.handleClickEditTransactionIcon(t.id)}})}),Object(j.jsx)("p",{className:"edit-asset-details-transaction-item-icon",children:Object(j.jsx)("i",{className:"fa fa-trash","aria-hidden":"true",onClick:function(){return e.handleClickDeleteTransactionIcon(t)}})})]})]})]},t.id)}));return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Transactions"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"This page shows you all the transactions you made in this asset. You can also modify or delete a transaction here."})]}),Object(j.jsxs)("div",{className:"edit-asset-details-container",children:[Object(j.jsxs)("div",{className:"edit-asset-details-name-container",children:[Object(j.jsx)("p",{className:"edit-asset-details-icon",children:Object(j.jsx)("img",{src:this.props.coinFinder(s.coin_id).logo,alt:"".concat(this.props.coinFinder(s.coin_id).symbol," icon")})}),Object(j.jsxs)("p",{className:"edit-asset-details-name",children:[this.props.coinFinder(s.coin_id).symbol," - ",this.props.coinFinder(s.coin_id).coinName]})]}),Object(j.jsxs)("div",{className:"edit-asset-details-transactions-header",children:[Object(j.jsx)("p",{className:"edit-asset-input-description-text"}),Object(j.jsx)("p",{className:"edit-asset-input-description-text",children:"Qty"}),Object(j.jsx)("p",{className:"edit-asset-input-description-text",children:"Price"})]}),Object(j.jsx)("div",{className:"edit-asset-details-transactions-container",children:i})]}),Object(j.jsx)("p",{className:"error-text",children:a})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("p",{}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:function(){return e.props.makePopupVisible("EditAsset",!1)},children:"Close"})]})]})}}]),s}(a.Component),A=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={symbol:"",quantity:0,price:0,date:""},e.handleQuantityInputChange=function(t){var s=e.props.loggedInUser.portfolios[e.props.currentPortfolio].assets[e.props.currentAsset],a=e.props.coinFinder(s.coin_id),i=e.props.inputDecimalSetter(t.target.value,a.quantity_scale);e.setState({quantity:i})},e.handlePriceInputChange=function(t){var s=e.props.loggedInUser.portfolios[e.props.currentPortfolio].assets[e.props.currentAsset],a=e.props.coinFinder(s.coin_id),i=e.props.inputDecimalSetter(t.target.value,a.price_scale);e.setState({price:i})},e.handleDateInputChange=function(t){var s=t.target.value;e.setState({date:s})},e.handleClickSellButton=function(){var t=e.props.loggedInUser.portfolios[e.props.currentPortfolio],s=t.assets[e.props.currentAsset],a=t.transactions.filter((function(e){return e.coin_id===s.coin_id}));if(a.push({buy_sell:1,quantity:e.state.quantity,price:e.state.price,date:e.state.date}),e.props.transactionQuantityChecker(a))alert("Sell unsuccessful. The total quantity of the asset would be less than zero at some date.");else{var i=s.coin_id,n=s.current_quantity,r=new Date,o=new Date(e.state.date);if(e.state.quantity<=0||e.state.quantity>n||e.state.price<=0||o>r)alert("Some of the data are invalid, check and correct any invalid data:\n- quantity and purchase price should be > 0,\n- quantity cannot be more than available quantity,\n- purchase date cannot be in the future.");else{e.props.addTransactionToPortfolio(i,1,e.state.quantity,e.state.price,e.state.date);var c=e.props.coinFinder(i);e.setState({quantity:(n*c.quantity_scale*10-e.state.quantity*c.quantity_scale*10)/(10*c.quantity_scale),price:c.price_eur})}}},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.loggedInUser.portfolios[this.props.currentPortfolio].assets[this.props.currentAsset],t=this.props.coinFinder(e.coin_id),s=(new Date).toISOString().substring(0,10);this.setState({symbol:t.symbol,quantity:Number.parseFloat(e.current_quantity.toFixed(t.quantity_scale)),price:Number.parseFloat(t.price_eur.toFixed(t.price_scale)),date:s})}},{key:"render",value:function(){var e=this,t=this.props.errorMessage?this.props.errorMessage:"",s=this.props.loggedInUser.portfolios[this.props.currentPortfolio].assets[this.props.currentAsset];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Sell asset"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"To sell the asset, change the quantity, price and date as necessary, then click Sell."})]}),Object(j.jsxs)("div",{className:"edit-popup-input",children:[Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"ticker-list",children:"Coin"}),Object(j.jsx)("input",{type:"text",name:"ticker-input",className:"edit-popup-input-field",value:this.state.symbol,readOnly:!0})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"quantity-input",children:"Quantity"}),Object(j.jsx)("input",{type:"number",name:"quantity-input",className:"edit-popup-input-field",min:"0",step:"1e-".concat(this.props.coinFinder(s.coin_id).quantity_scale),value:this.state.quantity,onChange:this.handleQuantityInputChange})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"buyprice-input",children:"Price (\u20ac)"}),Object(j.jsx)("input",{type:"number",name:"buyprice-input",className:"edit-popup-input-field",min:"0",step:"1e-".concat(this.props.coinFinder(s.coin_id).price_scale),value:this.state.price,onChange:this.handlePriceInputChange})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"buydate-input",children:"Date"}),Object(j.jsx)("input",{type:"date",name:"buydate-input",className:"edit-popup-input-field",min:"2010-01-01",value:this.state.date,onChange:this.handleDateInputChange})]})]}),Object(j.jsx)("p",{className:"error-text",children:t})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickSellButton,children:"Sell"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:function(){return e.props.makePopupVisible("EditAsset",!1)},children:"Close"})]})]})}}]),s}(a.Component),E=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).handleClickDeleteButton=function(){e.props.deleteAsset(e.props.loggedInUser.portfolios[e.props.currentPortfolio].assets[e.props.currentAsset].coin_id),e.props.makePopupVisible("EditAsset",!1)},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t=this.props.errorMessage?this.props.errorMessage:"",s=this.props.loggedInUser.portfolios[this.props.currentPortfolio],a=s.assets[this.props.currentAsset];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Delete asset"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"To delete the asset, click Delete."}),Object(j.jsxs)("p",{className:"edit-popup-input-description-text warning-text",children:[Object(j.jsx)("span",{className:"warning-text-highlight",children:"Warning:"}),Object(j.jsx)("br",{}),"You are about to delete the asset ",Object(j.jsx)("span",{className:"warning-text-highlight",children:this.props.coinFinder(a.coin_id).coinName})," from the portfolio ",Object(j.jsx)("span",{className:"warning-text-highlight",children:s.name}),".",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"You will delete all transactions in this asset from this portfolio. This operations is permanent and cannot be undone. If this is not what you intended, you can modify or delete each transaction individually on the Transactions tab."]})]}),Object(j.jsx)("p",{className:"error-text",children:t})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickDeleteButton,children:"Delete"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:function(){return e.props.makePopupVisible("EditAsset",!1)},children:"Close"})]})]})}}]),s}(a.Component),V=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={page:"Details"},e.handleTabChange=function(t){e.setState({page:t})},e}return Object(h.a)(s,[{key:"render",value:function(){var e=this,t="",s="popup-menu-item popup-menu-item-active",a="popup-menu-item",i="popup-menu-item",n="popup-menu-item";return"Details"===this.state.page&&(t=Object(j.jsx)(M,{makePopupVisible:this.props.makePopupVisible,errorMessage:this.props.errorMessage,loggedInUser:this.props.loggedInUser,currentPortfolio:this.props.currentPortfolio,currentAsset:this.props.currentAsset,coinFinder:this.props.coinFinder,priceConverter:this.props.priceConverter,valueConverter:this.props.valueConverter,amountConverter:this.props.amountConverter,priceColorSetter:this.props.priceColorSetter})),"Transactions"===this.state.page&&(t=Object(j.jsx)(q,{makePopupVisible:this.props.makePopupVisible,errorMessage:this.props.errorMessage,loggedInUser:this.props.loggedInUser,currentPortfolio:this.props.currentPortfolio,currentAsset:this.props.currentAsset,coinFinder:this.props.coinFinder,deleteTransaction:this.props.deleteTransaction,setCurrentIndex:this.props.setCurrentIndex,compareFunction:this.props.compareFunction,valueConverter:this.props.valueConverter,transactionQuantityChecker:this.props.transactionQuantityChecker}),s="popup-menu-item",a="popup-menu-item popup-menu-item-active",i="popup-menu-item",n="popup-menu-item"),"Sell"===this.state.page&&(t=Object(j.jsx)(A,{makePopupVisible:this.props.makePopupVisible,errorMessage:this.props.errorMessage,loggedInUser:this.props.loggedInUser,currentPortfolio:this.props.currentPortfolio,currentAsset:this.props.currentAsset,coinFinder:this.props.coinFinder,addTransactionToPortfolio:this.props.addTransactionToPortfolio,transactionQuantityChecker:this.props.transactionQuantityChecker,inputDecimalSetter:this.props.inputDecimalSetter}),s="popup-menu-item",a="popup-menu-item",i="popup-menu-item popup-menu-item-active",n="popup-menu-item"),"Delete"===this.state.page&&(t=Object(j.jsx)(E,{makePopupVisible:this.props.makePopupVisible,errorMessage:this.props.errorMessage,loggedInUser:this.props.loggedInUser,currentPortfolio:this.props.currentPortfolio,currentAsset:this.props.currentAsset,coinFinder:this.props.coinFinder,deleteAsset:this.props.deleteAsset}),s="popup-menu-item",a="popup-menu-item",i="popup-menu-item",n="popup-menu-item popup-menu-item-active"),Object(j.jsx)("div",{className:"popup-background",children:Object(j.jsxs)("div",{className:"popup-foreground",children:[Object(j.jsxs)("div",{className:"popup-title",children:[Object(j.jsx)("p",{className:"popup-title-icon",children:Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})}),Object(j.jsxs)("p",{children:["Edit Asset - ",this.props.coinFinder(this.props.loggedInUser.portfolios[this.props.currentPortfolio].assets[this.props.currentAsset].coin_id).coinName]})]}),Object(j.jsx)("div",{className:"popup-description",children:Object(j.jsx)("p",{children:"You can see all the details of the current asset and its transactions, or you can sell or delete the asset."})}),Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{className:"popup-menu-container",children:[Object(j.jsx)("li",{className:s,onClick:function(){return e.handleTabChange("Details")},children:"Details"}),Object(j.jsx)("li",{className:a,onClick:function(){return e.handleTabChange("Transactions")},children:"Transactions"}),Object(j.jsx)("li",{className:i,onClick:function(){return e.handleTabChange("Sell")},children:"Sell"}),Object(j.jsx)("li",{className:n,onClick:function(){return e.handleTabChange("Delete")},children:"Delete"})]})}),t]})})}}]),s}(a.Component),B=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={symbol:"",buysell:"",quantity:0,quantity_scale:8,price:0,price_scale:8,date:""},e.handleQuantityInputChange=function(t){var s=e.props.loggedInUser.portfolios[e.props.currentPortfolio].transactions[e.props.currentTransaction],a=e.props.coinFinder(s.coin_id),i=e.props.inputDecimalSetter(t.target.value,a.quantity_scale);e.setState({quantity:Number.parseFloat(i)})},e.handlePriceInputChange=function(t){var s=e.props.loggedInUser.portfolios[e.props.currentPortfolio].transactions[e.props.currentTransaction],a=e.props.coinFinder(s.coin_id),i=e.props.inputDecimalSetter(t.target.value,a.price_scale);e.setState({price:Number.parseFloat(i)})},e.handleDateInputChange=function(t){var s=t.target.value;e.setState({date:s})},e.handleClickEditButton=function(){var t=e.props.loggedInUser.portfolios[e.props.currentPortfolio],s=t.assets[e.props.currentAsset],a=t.transactions[e.props.currentTransaction],i=t.transactions.filter((function(e){return e.coin_id===s.coin_id})).filter((function(e){return e.id!==a.id}));if(i.push({buy_sell:a.buy_sell,quantity:e.state.quantity,price:e.state.price,date:e.state.date}),e.props.transactionQuantityChecker(i))alert("Modification unsuccessful. The total quantity of the asset would be less than zero at some date after this modification.");else{var n=new Date,r=new Date(e.state.date);e.state.quantity<=0||e.state.price<=0||r>n?alert("Some of the data are invalid, check and correct any invalid data:\n- quantity and price should be > 0,\n- quantity after the edit cannot be < 0,\n- date cannot be in the future."):e.props.editTransaction(e.state.quantity,e.state.price,e.state.date)}},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.loggedInUser.portfolios[this.props.currentPortfolio].transactions[this.props.currentTransaction],t=this.props.coinFinder(e.coin_id);this.setState({symbol:t.symbol,buysell:0===e.buy_sell?"Buy":"Sell",quantity:e.quantity,quantity_scale:t.quantity_scale,price:e.price,price_scale:t.price_scale,date:e.date})}},{key:"render",value:function(){var e=this,t=this.props.errorMessage?this.props.errorMessage:"";return Object(j.jsx)("div",{className:"popup-background",children:Object(j.jsxs)("div",{className:"popup-foreground",children:[Object(j.jsxs)("div",{className:"popup-title",children:[Object(j.jsx)("p",{className:"popup-title-icon",children:Object(j.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})}),Object(j.jsxs)("p",{children:["Edit Transaction - ",this.state.symbol," / ",this.state.buysell]})]}),Object(j.jsxs)("div",{className:"edit-popup-input-container",children:[Object(j.jsxs)("div",{className:"edit-popup-input-description",children:[Object(j.jsx)("h2",{className:"edit-popup-input-description-title",children:"Edit transaction"}),Object(j.jsx)("p",{className:"edit-popup-input-description-text",children:"To edit the transaction, change the quantity, price and date as necessary, then click Edit."})]}),Object(j.jsxs)("div",{className:"edit-popup-input",children:[Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"ticker-input",children:"Coin"}),Object(j.jsx)("input",{type:"text",name:"ticker-input",className:"edit-popup-input-field",value:this.state.symbol,readOnly:!0})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"buysell-input",children:"Buy/Sell"}),Object(j.jsx)("input",{type:"text",name:"buysell-input",className:"edit-popup-input-field",value:this.state.buysell,readOnly:!0})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"quantity-input",children:"Quantity"}),Object(j.jsx)("input",{type:"number",name:"quantity-input",className:"edit-popup-input-field",min:"0",step:"1e-".concat(this.state.quantity_scale),value:this.state.quantity,onChange:this.handleQuantityInputChange})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"price-input",children:"Price"}),Object(j.jsx)("input",{type:"number",name:"price-input",className:"edit-popup-input-field",min:"0",step:"1e-".concat(this.state.price_scale),value:this.state.price,onChange:this.handlePriceInputChange})]}),Object(j.jsxs)("div",{className:"edit-popup-input-item",children:[Object(j.jsx)("label",{className:"edit-popup-input-label",htmlFor:"date-input",children:"Date"}),Object(j.jsx)("input",{type:"date",name:"date-input",className:"edit-popup-input-field",min:"2010-01-01",value:this.state.date,onChange:this.handleDateInputChange})]})]}),Object(j.jsx)("p",{className:"error-text",children:t})]}),Object(j.jsxs)("div",{className:"popup-button-container",children:[Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:this.handleClickEditButton,children:"Edit"}),Object(j.jsx)("button",{type:"button",className:"popup-button",onClick:function(){return e.props.makePopupVisible("EditTransaction",!1)},children:"Close"})]})]})})}}]),s}(a.Component),W=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(u.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={page:"Login",loggedInUser:"",loginMessage:"",errorMessage:"",coins:[],currentIndexes:{watchlist:0,portfolio:0,asset:0,transaction:0},popups:{PricesGuide:!1,PortfoliosGuide:!1,PricesSettings:!1,AddWatchlist:!1,EditWatchlist:!1,AddPortfolio:!1,EditPortfolio:!1,EditAsset:!1,BuySellAsset:!1,EditTransaction:!1},dataSort:{prices:{index:0,isUp:!0,arrows:["\u25b2","",""],sortProperty:"symbol"},portfolios:{index:0,isUp:!0,arrows:["\u25b2","","","",""],sortProperty:"symbol"}}},e.handlePageChange=function(t){e.setState({page:t})},e.clearErrorMessage=function(){e.setState({errorMessage:""})},e.makePopupVisible=function(t,s){var a=JSON.parse(JSON.stringify(e.state.popups));a["".concat(t)]=s,e.setState({popups:a})},e.handleCurrencyChange=function(t){var s=JSON.parse(JSON.stringify(e.state.loggedInUser));s.base_currency=t,e.setState({loggedInUser:s})},e.priceConverter=function(t){return"EUR"===e.state.loggedInUser.base_currency?"\u20ac ".concat(t.price_eur.toLocaleString("en-GB",{maximumFractionDigits:t.price_scale})):"$ ".concat(t.price_usd.toLocaleString("en-GB",{maximumFractionDigits:t.price_scale}))},e.valueConverter=function(t,s){var a=e.state.coins.filter((function(e){return 12===e.coinId}))[0].price_eur;return"EUR"===e.state.loggedInUser.base_currency?"\u20ac ".concat(t.toLocaleString("en-GB",{maximumFractionDigits:s.price_scale})):"$ ".concat((t/a).toLocaleString("en-GB",{maximumFractionDigits:s.price_scale}))},e.amountConverter=function(t){var s=e.state.coins.filter((function(e){return 12===e.coinId}))[0].price_eur;return"EUR"===e.state.loggedInUser.base_currency?"\u20ac ".concat(t.toLocaleString("en-GB",{maximumFractionDigits:2})):"$ ".concat((t/s).toLocaleString("en-GB",{maximumFractionDigits:2}))},e.priceColorSetter=function(e){return e>=0?"green":"red"},e.coinFinder=function(t){return e.state.coins.filter((function(e){return e.coinId===t}))[0]},e.coinListCreator=function(){return Object(d.a)(e.state.loggedInUser.watchlists[e.state.currentIndexes.watchlist].coins).map((function(t){return{coinId:e.coinFinder(t.coin_id).coinId,symbol:e.coinFinder(t.coin_id).symbol,coinName:e.coinFinder(t.coin_id).coinName,logo:e.coinFinder(t.coin_id).logo,price_eur:e.coinFinder(t.coin_id).price_eur,price_usd:e.coinFinder(t.coin_id).price_usd,price_change:e.coinFinder(t.coin_id).price_change,price_scale:e.coinFinder(t.coin_id).price_scale,quantity_scale:e.coinFinder(t.coin_id).quantity_scale}}))},e.handleUserLogin=function(){var t=Object(p.a)(l.a.mark((function t(s){var a,i,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={name:s},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},t.prev=2,t.next=5,fetch("https://phu7m.sse.codesandbox.io/login",i);case 5:return n=t.sent,t.next=8,n.json();case 8:(r=t.sent).message?e.setState({errorMessage:r.message}):e.setState({loginMessage:"Welcome, ".concat(r.users[0].name),errorMessage:"",loggedInUser:r.users[0]}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),e.setState({errorMessage:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}(),e.handleUserRegister=function(){var t=Object(p.a)(l.a.mark((function t(s){var a,i,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={name:s},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},t.prev=2,t.next=5,fetch("https://phu7m.sse.codesandbox.io/register",i);case 5:return n=t.sent,t.next=8,n.json();case 8:(r=t.sent).message?e.setState({errorMessage:r.message}):e.setState({loginMessage:"Sucessfully registered, ".concat(s),loggedInUser:r.users[0],errorMessage:""}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),e.setState({errorMessage:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}(),e.handleUserLogout=Object(p.a)(l.a.mark((function t(){var s,a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loginMessage:""}),s={id:e.state.loggedInUser.id,currency:e.state.loggedInUser.base_currency},a={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},t.prev=3,t.next=6,fetch("https://phu7m.sse.codesandbox.io/logout",a);case 6:return i=t.sent,t.next=9,i.json();case 9:t.sent.message&&e.setState({page:"Login"}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),e.setState({errorMessage:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[3,13]])}))),e.apyCalculator=function(t,s){if(0===t.length)return 0;var a=Object(d.a)(t).filter((function(e){return 0===e.buy_sell})).sort(e.compareFunction("date",!0)),i=new Date((new Date).toJSON().slice(0,10)),n=new Date(a[0].date),r=0;if(1===a.length)r=s/(a[0].quantity*a[0].price);else{for(var o=[[(new Date(a[1].date)-n)/864e5,a[0].quantity*a[0].price]],c=1;c<a.length-1;c++){var l=new Date(a[c].date),p=(new Date(a[c+1].date)-l)/864e5;o.push([p,o[c-1][1]+a[c].quantity*a[c].price])}o.push([(i-new Date(a[a.length-1].date))/864e5,o[a.length-2][1]+a[a.length-1].quantity*a[a.length-1].price]);for(var u=0,h=0,m=0,b=o;m<b.length;m++){var j=b[m];h+=j[0],u+=j[0]*j[1]}r=s/(u/h)}var g=i.getFullYear(),f=(i-n)/864e5,x=g-n.getFullYear(),O=(i-new Date(n.getFullYear()+x,n.getMonth(),n.getDate()))/864e5;return g%400===0||g%4===0&&g%100!==0?f<=366?366*r/f:100*(Math.pow(1+r/100,1/(x+O/366))-1):f<=365?365*r/f:100*(Math.pow(1+r/100,1/(x+O/365))-1)},e.createAssetsFromTransactions=function(t){var s,a=[],i=Object(o.a)(t);try{var n=function(){var e=s.value;0===a.filter((function(t){return t.coin_id===e.coin_id})).length&&a.push({coin_id:e.coin_id})};for(i.s();!(s=i.n()).done;)n()}catch(l){i.e(l)}finally{i.f()}for(var r=function(s){var i=t.filter((function(e){return e.coin_id===a[s].coin_id})),n=i.filter((function(e){return 0===e.buy_sell})).map((function(e){return e.quantity})).reduce((function(e,t){return e+1e8*t}),0)/1e8,r=i.filter((function(e){return 1===e.buy_sell})).map((function(e){return e.quantity})).reduce((function(e,t){return e+1e8*t}),0)/1e8,o=i.filter((function(e){return 0===e.buy_sell})).map((function(e){return e.quantity*e.price})).reduce((function(e,t){return e+t}),0),c=i.filter((function(e){return 1===e.buy_sell})).map((function(e){return e.quantity*e.price})).reduce((function(e,t){return e+t}),0);a[s].total_buy_quantity=n,a[s].total_sell_quantity=r,a[s].current_quantity=(1e8*n-1e8*r)/1e8,a[s].average_buy_price=(o/n).toPrecision(8),a[s].bought_value=o,a[s].sold_value=c,a[s].current_value=a[s].current_quantity*e.coinFinder(a[s].coin_id).price_eur,a[s].absolute_yield=a[s].current_value+a[s].sold_value-a[s].bought_value,a[s].percentage_yield=a[s].absolute_yield/a[s].bought_value*100,a[s].symbol=e.coinFinder(a[s].coin_id).symbol,a[s].apy=0===a[s].absolute_yield?0:100*e.apyCalculator(i,a[s].absolute_yield)},c=0;c<a.length;c++)r(c);return a},e.finaliseUserPortfolioData=function(t){for(var s=Object(d.a)(t),a=0;a<s.length;a++)s[a].assets=e.createAssetsFromTransactions(s[a].transactions);return s},e.getUserData=Object(p.a)(l.a.mark((function t(){var s,a,i,n,r,o,c,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=JSON.parse(JSON.stringify(e.state.loggedInUser)),a={id:e.state.loggedInUser.id},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},t.prev=3,t.next=6,fetch("https://phu7m.sse.codesandbox.io/api/watchlists",i);case 6:return n=t.sent,t.next=9,n.json();case 9:return r=t.sent,s.watchlists=r.watchlists,t.next=13,fetch("https://phu7m.sse.codesandbox.io/api/portfolios",i);case 13:return o=t.sent,t.next=16,o.json();case 16:c=t.sent,p=c.portfolios,s.portfolios=e.finaliseUserPortfolioData(p),e.setState({loggedInUser:s,page:"Prices"}),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(3),e.setState({errorMessage:t.t0.message});case 25:case"end":return t.stop()}}),t,null,[[3,22]])}))),e.handleCreateNewWatchlist=function(){var t=Object(p.a)(l.a.mark((function t(s){var a,i,n,r,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.state.loggedInUser.id,watchlistName:s},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},t.prev=2,t.next=5,fetch("https://phu7m.sse.codesandbox.io/api/watchlists/add",i);case 5:return n=t.sent,t.next=8,n.json();case 8:(r=t.sent).message?e.setState({errorMessage:r.message}):((o=JSON.parse(JSON.stringify(e.state.loggedInUser))).watchlists=r.watchlists,(c=JSON.parse(JSON.stringify(e.state.currentIndexes))).watchlist=o.watchlists.length-1,e.setState({currentIndexes:c,loggedInUser:o,errorMessage:""}),e.makePopupVisible("AddWatchlist",!1)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),e.setState({errorMessage:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}(),e.handleCreateNewPortfolio=function(){var t=Object(p.a)(l.a.mark((function t(s){var a,i,n,r,o,c,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.state.loggedInUser.id,portfolioName:s},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},t.prev=2,t.next=5,fetch("https://phu7m.sse.codesandbox.io/api/portfolios/add",i);case 5:return n=t.sent,t.next=8,n.json();case 8:(r=t.sent).message?e.setState({errorMessage:r.message}):(o=JSON.parse(JSON.stringify(e.state.loggedInUser)),c=r.portfolios,o.portfolios=e.finaliseUserPortfolioData(c),(p=JSON.parse(JSON.stringify(e.state.currentIndexes))).portfolio=o.portfolios.length-1,e.setState({currentIndexes:p,loggedInUser:o,errorMessage:""}),e.makePopupVisible("AddPortfolio",!1)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),e.setState({errorMessage:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}(),e.setCurrentIndex=function(t,s){var a=JSON.parse(JSON.stringify(e.state.currentIndexes));a[s]=t,e.setState({currentIndexes:a})},e.deleteWatchlistItem=function(){var t=Object(p.a)(l.a.mark((function t(s){var a,i,n,r,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.loggedInUser.watchlists[e.state.currentIndexes.watchlist],!window.confirm("Do you really want to delete this item?")){t.next=20;break}return i={watchlistId:a.id,coinId:s,userId:e.state.loggedInUser.id},n={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},t.prev=5,t.next=8,fetch("https://phu7m.sse.codesandbox.io/api/watchlists/coins/delete",n);case 8:return r=t.sent,t.next=11,r.json();case 11:o=t.sent,(c=JSON.parse(JSON.stringify(e.state.loggedInUser))).watchlists=o.watchlists,e.setState({loggedInUser:c,errorMessage:""}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),e.setState({errorMessage:t.t0.message});case 20:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(e){return t.apply(this,arguments)}}(),e.addWatchlistItem=function(){var t=Object(p.a)(l.a.mark((function t(s){var a,i,n,r,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.loggedInUser.watchlists[e.state.currentIndexes.watchlist],i={watchlistId:a.id,coinId:s,userId:e.state.loggedInUser.id},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},t.prev=3,t.next=6,fetch("https://phu7m.sse.codesandbox.io/api/watchlists/coins/add",n);case 6:return r=t.sent,t.next=9,r.json();case 9:(o=t.sent).message?e.setState({errorMessage:o.message}):((c=JSON.parse(JSON.stringify(e.state.loggedInUser))).watchlists=o.watchlists,e.setState({loggedInUser:c,errorMessage:""})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),e.setState({errorMessage:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),e.addTransactionToPortfolio=function(){var t=Object(p.a)(l.a.mark((function t(s,a,i,n,r){var o,c,p,d,u,h,m;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.state.loggedInUser.portfolios[e.state.currentIndexes.portfolio],c={userId:e.state.loggedInUser.id,portfolioId:o.id,coinId:s,buy_sell:a,quantity:i,price:n,date:r},p={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},t.prev=3,t.next=6,fetch("https://phu7m.sse.codesandbox.io/api/portfolios/transactions/add",p);case 6:return d=t.sent,t.next=9,d.json();case 9:u=t.sent,h=JSON.parse(JSON.stringify(e.state.loggedInUser)),m=u.portfolios,h.portfolios=e.finaliseUserPortfolioData(m),e.setState({loggedInUser:h,errorMessage:""}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),e.setState({errorMessage:t.t0.message});case 19:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e,s,a,i,n){return t.apply(this,arguments)}}(),e.renamePortfolio=function(){var t=Object(p.a)(l.a.mark((function t(s){var a,i,n,r,o,c,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.loggedInUser.portfolios[e.state.currentIndexes.portfolio],i={userId:e.state.loggedInUser.id,portfolioId:a.id,portfolioName:s},n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},t.prev=3,t.next=6,fetch("https://phu7m.sse.codesandbox.io/api/portfolios/rename",n);case 6:return r=t.sent,t.next=9,r.json();case 9:(o=t.sent).message?e.setState({errorMessage:o.message}):(c=JSON.parse(JSON.stringify(e.state.loggedInUser)),p=o.portfolios,c.portfolios=e.finaliseUserPortfolioData(p),e.setState({loggedInUser:c,errorMessage:""})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),e.setState({errorMessage:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),e.renameWatchlist=function(){var t=Object(p.a)(l.a.mark((function t(s){var a,i,n,r,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.loggedInUser.watchlists[e.state.currentIndexes.watchlist],i={userId:e.state.loggedInUser.id,watchlistId:a.id,watchlistName:s},n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},t.prev=3,t.next=6,fetch("https://phu7m.sse.codesandbox.io/api/watchlists/rename",n);case 6:return r=t.sent,t.next=9,r.json();case 9:(o=t.sent).message?e.setState({errorMessage:o.message}):((c=JSON.parse(JSON.stringify(e.state.loggedInUser))).watchlists=o.watchlists,e.setState({loggedInUser:c,errorMessage:""})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),e.setState({errorMessage:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),e.deleteWatchlist=Object(p.a)(l.a.mark((function t(){var s,a,i,n,r,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.state.loggedInUser.watchlists.length>1)){t.next=23;break}return s=e.state.loggedInUser.watchlists[e.state.currentIndexes.watchlist],a={userId:e.state.loggedInUser.id,watchlistId:s.id},i={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},t.prev=4,t.next=7,fetch("https://phu7m.sse.codesandbox.io/api/watchlists/delete",i);case 7:return n=t.sent,t.next=10,n.json();case 10:r=t.sent,(o=JSON.parse(JSON.stringify(e.state.loggedInUser))).watchlists=r.watchlists,(c=JSON.parse(JSON.stringify(e.state.currentIndexes))).watchlist=0,e.setState({currentIndexes:c,loggedInUser:o,errorMessage:""}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(4),e.setState({errorMessage:t.t0.message});case 21:t.next=24;break;case 23:alert("You cannot delete this watchlist. There must be at least one watchlist.");case 24:case"end":return t.stop()}}),t,null,[[4,18]])}))),e.deletePortfolio=Object(p.a)(l.a.mark((function t(){var s,a,i,n,r,o,c,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.state.loggedInUser.portfolios.length>1)){t.next=24;break}return s=e.state.loggedInUser.portfolios[e.state.currentIndexes.portfolio],a={userId:e.state.loggedInUser.id,portfolioId:s.id},i={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},t.prev=4,t.next=7,fetch("https://phu7m.sse.codesandbox.io/api/portfolios/delete",i);case 7:return n=t.sent,t.next=10,n.json();case 10:r=t.sent,o=JSON.parse(JSON.stringify(e.state.loggedInUser)),c=r.portfolios,o.portfolios=e.finaliseUserPortfolioData(c),(p=JSON.parse(JSON.stringify(e.state.currentIndexes))).portfolio=0,e.setState({currentIndexes:p,loggedInUser:o,errorMessage:""}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(4),e.setState({errorMessage:t.t0.message});case 22:t.next=25;break;case 24:alert("You cannot delete this portfolio. There must be at least one portfolio.");case 25:case"end":return t.stop()}}),t,null,[[4,19]])}))),e.deleteAsset=function(){var t=Object(p.a)(l.a.mark((function t(s){var a,i,n,r,o,c,p,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.loggedInUser.portfolios[e.state.currentIndexes.portfolio],!window.confirm("Do you really want to delete this asset and all related transactions from this portfolio?")){t.next=23;break}return i={userId:e.state.loggedInUser.id,portfolioId:a.id,coinId:s},n={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},t.prev=5,t.next=8,fetch("https://phu7m.sse.codesandbox.io/api/portfolios/assets/delete",n);case 8:return r=t.sent,t.next=11,r.json();case 11:o=t.sent,c=JSON.parse(JSON.stringify(e.state.loggedInUser)),p=o.portfolios,c.portfolios=e.finaliseUserPortfolioData(p),(d=JSON.parse(JSON.stringify(e.state.currentIndexes))).asset=0,e.setState({currentIndexes:d,loggedInUser:c,errorMessage:""}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(5),e.setState({errorMessage:t.t0.message});case 23:case"end":return t.stop()}}),t,null,[[5,20]])})));return function(e){return t.apply(this,arguments)}}(),e.deleteTransaction=function(){var t=Object(p.a)(l.a.mark((function t(s){var a,i,n,r,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Do you really want to delete this transaction?")){t.next=20;break}return a={userId:e.state.loggedInUser.id,transactionId:s},i={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},t.prev=4,t.next=7,fetch("https://phu7m.sse.codesandbox.io/api/portfolios/transactions/delete",i);case 7:return n=t.sent,t.next=10,n.json();case 10:r=t.sent,o=JSON.parse(JSON.stringify(e.state.loggedInUser)),c=r.portfolios,o.portfolios=e.finaliseUserPortfolioData(c),e.setState({loggedInUser:o,errorMessage:""}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),e.setState({errorMessage:t.t0.message});case 20:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}(),e.editTransaction=function(){var t=Object(p.a)(l.a.mark((function t(s,a,i){var n,r,o,c,p,d,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.loggedInUser.portfolios[e.state.currentIndexes.portfolio].transactions[e.state.currentIndexes.transaction],r={userId:e.state.loggedInUser.id,transactionId:n.id,quantity:s,price:a,date:i},o={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},t.prev=3,t.next=6,fetch("https://phu7m.sse.codesandbox.io/api/portfolios/transactions/edit",o);case 6:return c=t.sent,t.next=9,c.json();case 9:p=t.sent,d=JSON.parse(JSON.stringify(e.state.loggedInUser)),u=p.portfolios,d.portfolios=e.finaliseUserPortfolioData(u),e.setState({loggedInUser:d,errorMessage:""}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),e.setState({errorMessage:t.t0.message});case 19:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e,s,a){return t.apply(this,arguments)}}(),e.compareFunction=function(e,t){return function(s,a){var i=0;return s[e]>a[e]?i=1:s[e]<a[e]&&(i=-1),t?i:-1*i}},e.handleDataSort=function(t,s,a,i){var n=JSON.parse(JSON.stringify(e.state.dataSort));n[s].index=t,n[s].arrows=n[s].arrows.map((function(){return""})),n[s].arrows[t]=a?"\u25bc":"\u25b2",n[s].isUp=!a,n[s].sortProperty=i,e.setState({dataSort:n})},e.transactionQuantityChecker=function(t){var s,a=Object(d.a)(t).sort(e.compareFunction("date",!0)),i=0,n=Object(o.a)(a);try{for(n.s();!(s=n.n()).done;){var r=s.value;if((i=0===r.buy_sell?(1e8*i+1e8*r.quantity)/1e8:(1e8*i-1e8*r.quantity)/1e8)<0)return 1}}catch(c){n.e(c)}finally{n.f()}return 0},e.inputDecimalSetter=function(e,t){return 0===t?e.indexOf(".")>=0?e.substr(0,e.indexOf(".")):e.indexOf(",")>=0?e.substr(0,e.indexOf(",")):e:e.indexOf(".")>=0?e.substr(0,e.indexOf("."))+e.substr(e.indexOf("."),t+1):e.indexOf(",")>=0?e.substr(0,e.indexOf(","))+e.substr(e.indexOf(","),t+1):e},e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,fetch("https://phu7m.sse.codesandbox.io/api/coins",t);case 4:return s=e.sent,e.next=7,s.json();case 7:a=e.sent,this.setState({coins:a.coins}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),this.setState({errorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t="",s="menu-item active-menu-item",a="menu-item";"Login"===this.state.page&&(t=Object(j.jsx)(v,{loginMessage:this.state.loginMessage,errorMessage:this.state.errorMessage,handleUserLogin:this.handleUserLogin,handleUserRegister:this.handleUserRegister,getUserData:this.getUserData})),"Prices"===this.state.page&&(t=Object(j.jsx)(g,{makePopupVisible:this.makePopupVisible,loggedInUser:this.state.loggedInUser,currentWatchlist:this.state.currentIndexes.watchlist,setCurrentIndex:this.setCurrentIndex,coinListCreator:this.coinListCreator,priceConverter:this.priceConverter,priceColorSetter:this.priceColorSetter,dataSort:this.state.dataSort,handleDataSort:this.handleDataSort,compareFunction:this.compareFunction}),s="menu-item active-menu-item",a="menu-item"),"Portfolios"===this.state.page&&(t=Object(j.jsx)(f,{makePopupVisible:this.makePopupVisible,loggedInUser:this.state.loggedInUser,currentPortfolio:this.state.currentIndexes.portfolio,setCurrentIndex:this.setCurrentIndex,coinFinder:this.coinFinder,amountConverter:this.amountConverter,priceColorSetter:this.priceColorSetter,dataSort:this.state.dataSort,handleDataSort:this.handleDataSort,compareFunction:this.compareFunction}),s="menu-item",a="menu-item active-menu-item");var i="";this.state.popups.PricesGuide&&(i=Object(j.jsx)(x,{makePopupVisible:this.makePopupVisible,loggedInUser:this.state.loggedInUser}));var n="";this.state.popups.PortfoliosGuide&&(n=Object(j.jsx)(O,{makePopupVisible:this.makePopupVisible}));var r="";this.state.popups.PricesSettings&&(r=Object(j.jsx)(y,{makePopupVisible:this.makePopupVisible,handleCurrencyChange:this.handleCurrencyChange,loggedInUser:this.state.loggedInUser}));var o="";this.state.popups.AddWatchlist&&(o=Object(j.jsx)(N,{makePopupVisible:this.makePopupVisible,handleCreateNewWatchlist:this.handleCreateNewWatchlist,errorMessage:this.state.errorMessage,clearErrorMessage:this.clearErrorMessage}));var c="";this.state.popups.AddPortfolio&&(c=Object(j.jsx)(I,{makePopupVisible:this.makePopupVisible,handleCreateNewPortfolio:this.handleCreateNewPortfolio,errorMessage:this.state.errorMessage,clearErrorMessage:this.clearErrorMessage}));var l="";this.state.popups.EditWatchlist&&(l=Object(j.jsx)(S,{makePopupVisible:this.makePopupVisible,errorMessage:this.state.errorMessage,clearErrorMessage:this.clearErrorMessage,loggedInUser:this.state.loggedInUser,currentWatchlist:this.state.currentIndexes.watchlist,coins:this.state.coins,coinListCreator:this.coinListCreator,deleteWatchlistItem:this.deleteWatchlistItem,addWatchlistItem:this.addWatchlistItem,renameWatchlist:this.renameWatchlist,deleteWatchlist:this.deleteWatchlist,compareFunction:this.compareFunction}));var p="";this.state.popups.EditPortfolio&&(p=Object(j.jsx)(U,{makePopupVisible:this.makePopupVisible,errorMessage:this.state.errorMessage,clearErrorMessage:this.clearErrorMessage,loggedInUser:this.state.loggedInUser,currentPortfolio:this.state.currentIndexes.portfolio,renamePortfolio:this.renamePortfolio,deletePortfolio:this.deletePortfolio}));var d="";this.state.popups.EditAsset&&(d=Object(j.jsx)(V,{makePopupVisible:this.makePopupVisible,errorMessage:this.state.errorMessage,loggedInUser:this.state.loggedInUser,currentPortfolio:this.state.currentIndexes.portfolio,currentAsset:this.state.currentIndexes.asset,coinFinder:this.coinFinder,addTransactionToPortfolio:this.addTransactionToPortfolio,deleteAsset:this.deleteAsset,deleteTransaction:this.deleteTransaction,setCurrentIndex:this.setCurrentIndex,priceConverter:this.priceConverter,valueConverter:this.valueConverter,amountConverter:this.amountConverter,priceColorSetter:this.priceColorSetter,compareFunction:this.compareFunction,transactionQuantityChecker:this.transactionQuantityChecker,inputDecimalSetter:this.inputDecimalSetter}));var u="";this.state.popups.BuySellAsset&&(u=Object(j.jsx)(F,{makePopupVisible:this.makePopupVisible,errorMessage:this.state.errorMessage,loggedInUser:this.state.loggedInUser,currentPortfolio:this.state.currentIndexes.portfolio,coinFinder:this.coinFinder,coins:this.state.coins,addTransactionToPortfolio:this.addTransactionToPortfolio,compareFunction:this.compareFunction,transactionQuantityChecker:this.transactionQuantityChecker,inputDecimalSetter:this.inputDecimalSetter}));var h="";this.state.popups.EditTransaction&&(h=Object(j.jsx)(B,{makePopupVisible:this.makePopupVisible,errorMessage:this.state.errorMessage,loggedInUser:this.state.loggedInUser,currentPortfolio:this.state.currentIndexes.portfolio,currentAsset:this.state.currentIndexes.asset,currentTransaction:this.state.currentIndexes.transaction,coinFinder:this.coinFinder,editTransaction:this.editTransaction,transactionQuantityChecker:this.transactionQuantityChecker,inputDecimalSetter:this.inputDecimalSetter}));var m="scrollable";for(var b in this.state.popups)if(this.state.popups[b]){m="unscrollable";break}return Object(j.jsxs)("div",{className:"main-container ".concat(m),children:[Object(j.jsx)("header",{children:Object(j.jsxs)("nav",{children:[Object(j.jsx)("ul",{children:Object(j.jsx)("li",{className:"logout-item",onClick:this.handleUserLogout,children:"Logout"})}),Object(j.jsxs)("ul",{className:"menu-container",children:[Object(j.jsx)("li",{className:s,onClick:function(){return e.handlePageChange("Prices")},children:"Prices"}),Object(j.jsx)("li",{className:a,onClick:function(){return e.handlePageChange("Portfolios")},children:"Portfolios"})]})]})}),Object(j.jsxs)("main",{children:[n,r,i,o,l,c,p,d,u,h,t]}),Object(j.jsx)("footer",{children:Object(j.jsx)("p",{className:"footertext",children:"\xa9 Copyright 2021 - gasparads at gmail dot com"})})]})}}]),s}(a.Component),J=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,35)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),a(e),i(e),n(e),r(e)}))};r.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(W,{})}),document.getElementById("root")),J()}],[[34,1,2]]]);
//# sourceMappingURL=main.1e0ac123.chunk.js.map